2025-05-12 12:30:50.2294 INFO Starting application... 
2025-05-12 12:30:51.1542 INFO Application is running... 
2025-05-12 12:30:51.1942 INFO User profile is available. Using 'C:\Users\giahu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-05-12 12:30:51.4413 INFO Now listening on: http://localhost:5058 
2025-05-12 12:30:51.5124 INFO Application started. Press Ctrl+C to shut down. 
2025-05-12 12:30:51.5124 INFO Hosting environment: Development 
2025-05-12 12:30:51.5124 INFO Content root path: C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb 
2025-05-12 12:30:55.0380 INFO Request starting HTTP/1.1 GET http://localhost:5058/swagger - - - 
2025-05-12 12:30:55.2348 INFO Request finished HTTP/1.1 GET http://localhost:5058/swagger - 301 0 - 216.5920ms 
2025-05-12 12:30:55.2465 INFO Request starting HTTP/1.1 GET http://localhost:5058/swagger/index.html - - - 
2025-05-12 12:30:55.3270 INFO Request finished HTTP/1.1 GET http://localhost:5058/swagger/index.html - 200 - text/html;charset=utf-8 82.8853ms 
2025-05-12 12:30:55.5492 INFO Request starting HTTP/1.1 GET http://localhost:5058/_framework/aspnetcore-browser-refresh.js - - - 
2025-05-12 12:30:55.5492 INFO Request starting HTTP/1.1 GET http://localhost:5058/_vs/browserLink - - - 
2025-05-12 12:30:55.5561 INFO Request finished HTTP/1.1 GET http://localhost:5058/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript;+charset=utf-8 6.8981ms 
2025-05-12 12:30:55.6018 INFO Request finished HTTP/1.1 GET http://localhost:5058/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 52.6041ms 
2025-05-12 12:30:56.2101 INFO Request starting HTTP/1.1 GET http://localhost:5058/swagger/v1/swagger.json - - - 
2025-05-12 12:30:56.2937 INFO Request finished HTTP/1.1 GET http://localhost:5058/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 84.0731ms 
2025-05-12 12:31:38.4678 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/login - - - 
2025-05-12 12:31:38.4791 INFO CORS policy execution successful. 
2025-05-12 12:31:38.4791 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/login - 204 - - 12.1291ms 
2025-05-12 12:31:38.4791 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Account/login - application/json 64 
2025-05-12 12:31:38.4791 INFO CORS policy execution successful. 
2025-05-12 12:31:38.5502 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckAccountExists (TourismWeb)' 
2025-05-12 12:31:38.5855 INFO Route matched with {action = "CheckAccountExists", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CheckAccountExists(TourismWeb.DTOs.Account.AccountLoginDTO) on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:31:38.8919 INFO Login attempt for username: customer 
2025-05-12 12:31:40.3453 INFO Executed DbCommand (59ms) [Parameters=[@__account_Username_0='?' (Size = 100), @__account_Password_1='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[OTP], [a].[Password], [a].[Role], [a].[Username], [a].[isConfirmed]
FROM [Accounts] AS [a]
WHERE [a].[Username] = @__account_Username_0 AND [a].[Password] = @__account_Password_1 
2025-05-12 12:31:40.4429 INFO Login successful for username: customer 
2025-05-12 12:31:40.4472 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[TourismWeb.DTOs.Account.AccountDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:31:40.4472 INFO Executed action TourismWeb.Controllers.AccountController.CheckAccountExists (TourismWeb) in 1868.9317ms 
2025-05-12 12:31:40.4620 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckAccountExists (TourismWeb)' 
2025-05-12 12:31:40.4620 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Account/login - 200 - application/json;+charset=utf-8 1985.6037ms 
2025-05-12 12:31:40.4620 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - - - 
2025-05-12 12:31:40.4620 INFO CORS policy execution successful. 
2025-05-12 12:31:40.4620 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - 204 - - 2.2305ms 
2025-05-12 12:31:40.4620 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - - - 
2025-05-12 12:31:40.4620 INFO CORS policy execution successful. 
2025-05-12 12:31:40.5182 INFO Executing endpoint 'TourismWeb.Controllers.CustomerController.GetCustomerByEmail (TourismWeb)' 
2025-05-12 12:31:40.5260 INFO Route matched with {action = "GetCustomerByEmail", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Customer.CustomerDTO]] GetCustomerByEmail(System.String) on controller TourismWeb.Controllers.CustomerController (TourismWeb). 
2025-05-12 12:31:40.5260 INFO Fetching customer with email: customer1@gmail.com 
2025-05-12 12:31:40.5712 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[DateOfBirth], [c].[Email], [c].[Gender], [c].[Name], [c].[Phone]
FROM [Customers] AS [c]
WHERE [c].[Email] = @__email_0 
2025-05-12 12:31:40.5933 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Customer.CustomerDTO'. 
2025-05-12 12:31:40.6069 INFO Executed action TourismWeb.Controllers.CustomerController.GetCustomerByEmail (TourismWeb) in 78.1829ms 
2025-05-12 12:31:40.6069 INFO Executed endpoint 'TourismWeb.Controllers.CustomerController.GetCustomerByEmail (TourismWeb)' 
2025-05-12 12:31:40.6069 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - 200 - application/json;+charset=utf-8 135.9406ms 
2025-05-12 12:31:49.1977 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:49.1977 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:49.1977 INFO CORS policy execution successful. 
2025-05-12 12:31:49.1977 INFO CORS policy execution successful. 
2025-05-12 12:31:49.1977 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 7.2517ms 
2025-05-12 12:31:49.1977 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 5.7144ms 
2025-05-12 12:31:49.1977 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:49.1977 INFO CORS policy execution successful. 
2025-05-12 12:31:49.2151 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:49.2151 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:31:49.2151 INFO Checking JWT token validity. 
2025-05-12 12:31:49.2308 INFO Token is valid. 
2025-05-12 12:31:49.2308 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:31:49.2437 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 23.8005ms 
2025-05-12 12:31:49.2437 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:49.2437 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:49.2437 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 35.9047ms 
2025-05-12 12:31:49.2437 INFO CORS policy execution successful. 
2025-05-12 12:31:49.2437 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:49.2437 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:31:49.2437 INFO Checking JWT token validity. 
2025-05-12 12:31:49.2437 INFO Token is valid. 
2025-05-12 12:31:49.2589 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:31:49.2589 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 7.7577ms 
2025-05-12 12:31:49.2589 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:49.2589 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 18.9704ms 
2025-05-12 12:31:54.5294 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/update - - - 
2025-05-12 12:31:54.5294 INFO CORS policy execution successful. 
2025-05-12 12:31:54.5294 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/update - 204 - - 3.0322ms 
2025-05-12 12:31:54.5294 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Customer/update - application/json 116 
2025-05-12 12:31:54.5294 INFO CORS policy execution successful. 
2025-05-12 12:31:54.5417 INFO Executing endpoint 'TourismWeb.Controllers.CustomerController.UpdateCustomer (TourismWeb)' 
2025-05-12 12:31:54.5417 INFO Route matched with {action = "UpdateCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Customer.CustomerUpdateDTO]] UpdateCustomer(TourismWeb.DTOs.Customer.CustomerUpdateDTO) on controller TourismWeb.Controllers.CustomerController (TourismWeb). 
2025-05-12 12:31:54.5567 INFO Updating customer with Email: customer1@gmail.com 
2025-05-12 12:31:54.6252 INFO Executed DbCommand (3ms) [Parameters=[@__customer_Email_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[DateOfBirth], [c].[Email], [c].[Gender], [c].[Name], [c].[Phone]
FROM [Customers] AS [c]
WHERE [c].[Email] = @__customer_Email_0 
2025-05-12 12:31:54.7284 INFO Executed DbCommand (7ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Customers] SET [Name] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-05-12 12:31:54.7452 INFO Customer updated successfully: customer1@gmail.com 
2025-05-12 12:31:54.7452 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Customer.CustomerUpdateDTO'. 
2025-05-12 12:31:54.7452 INFO Executed action TourismWeb.Controllers.CustomerController.UpdateCustomer (TourismWeb) in 209.2479ms 
2025-05-12 12:31:54.7452 INFO Executed endpoint 'TourismWeb.Controllers.CustomerController.UpdateCustomer (TourismWeb)' 
2025-05-12 12:31:54.7587 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Customer/update - 200 - application/json;+charset=utf-8 228.7061ms 
2025-05-12 12:31:58.7906 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:58.7906 INFO CORS policy execution successful. 
2025-05-12 12:31:58.7906 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:58.7906 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 6.3408ms 
2025-05-12 12:31:58.7906 INFO CORS policy execution successful. 
2025-05-12 12:31:58.7906 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:58.7906 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 3.5426ms 
2025-05-12 12:31:58.7906 INFO CORS policy execution successful. 
2025-05-12 12:31:58.7906 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:58.7906 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:31:58.8060 INFO Checking JWT token validity. 
2025-05-12 12:31:58.8060 INFO Token is valid. 
2025-05-12 12:31:58.8060 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:31:58.8060 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 3.8991ms 
2025-05-12 12:31:58.8060 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:58.8060 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:31:58.8060 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 13.1428ms 
2025-05-12 12:31:58.8060 INFO CORS policy execution successful. 
2025-05-12 12:31:58.8060 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:58.8060 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:31:58.8209 INFO Checking JWT token validity. 
2025-05-12 12:31:58.8209 INFO Token is valid. 
2025-05-12 12:31:58.8209 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:31:58.8209 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 4.0078ms 
2025-05-12 12:31:58.8209 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:31:58.8209 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 12.9612ms 
2025-05-12 12:32:08.0069 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/update-password - - - 
2025-05-12 12:32:08.0069 INFO CORS policy execution successful. 
2025-05-12 12:32:08.0086 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/update-password - 204 - - 2.2046ms 
2025-05-12 12:32:08.0086 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Account/update-password - application/json 81 
2025-05-12 12:32:08.0086 INFO CORS policy execution successful. 
2025-05-12 12:32:08.0086 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.UpdatePasswordByEmail (TourismWeb)' 
2025-05-12 12:32:08.0086 INFO Route matched with {action = "UpdatePasswordByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] UpdatePasswordByEmail(TourismWeb.DTOs.Account.AccountUpdatePasswordDTO) on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:32:08.0248 INFO Password update attempt for email: customer1@gmail.com 
2025-05-12 12:32:08.0456 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 100), @__OldPassword_1='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[OTP], [a].[Password], [a].[Role], [a].[Username], [a].[isConfirmed]
FROM [Accounts] AS [a]
WHERE [a].[Email] = @__email_0 AND [a].[Password] = @__OldPassword_1 
2025-05-12 12:32:08.0583 INFO Password updated successfully for email: customer1@gmail.com 
2025-05-12 12:32:08.0583 INFO Executing OkObjectResult, writing value of type 'System.Boolean'. 
2025-05-12 12:32:08.0583 INFO Executed action TourismWeb.Controllers.AccountController.UpdatePasswordByEmail (TourismWeb) in 40.5567ms 
2025-05-12 12:32:08.0583 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.UpdatePasswordByEmail (TourismWeb)' 
2025-05-12 12:32:08.0583 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Account/update-password - 200 - application/json;+charset=utf-8 55.2194ms 
2025-05-12 12:32:09.2298 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:32:09.2298 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:32:09.2298 INFO CORS policy execution successful. 
2025-05-12 12:32:09.2298 INFO CORS policy execution successful. 
2025-05-12 12:32:09.2298 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 8.9042ms 
2025-05-12 12:32:09.2298 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 8.0507ms 
2025-05-12 12:32:09.2298 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:32:09.2298 INFO CORS policy execution successful. 
2025-05-12 12:32:09.2436 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:32:09.2436 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:32:09.2436 INFO Checking JWT token validity. 
2025-05-12 12:32:09.2436 INFO Token is valid. 
2025-05-12 12:32:09.2436 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:32:09.2436 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 4.4612ms 
2025-05-12 12:32:09.2436 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:32:09.2436 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 11.6176ms 
2025-05-12 12:32:09.2436 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:32:09.2436 INFO CORS policy execution successful. 
2025-05-12 12:32:09.2436 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:32:09.2436 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:32:09.2586 INFO Checking JWT token validity. 
2025-05-12 12:32:09.2586 INFO Token is valid. 
2025-05-12 12:32:09.2586 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:32:09.2586 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 5.6997ms 
2025-05-12 12:32:09.2586 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:32:09.2586 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 13.0790ms 
2025-05-12 12:32:56.1115 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/register - - - 
2025-05-12 12:32:56.1115 INFO CORS policy execution successful. 
2025-05-12 12:32:56.1115 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/register - 204 - - 2.4111ms 
2025-05-12 12:32:56.1115 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Account/register - application/json 91 
2025-05-12 12:32:56.1182 INFO CORS policy execution successful. 
2025-05-12 12:32:56.1182 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CreateAccount (TourismWeb)' 
2025-05-12 12:32:56.1182 INFO Route matched with {action = "CreateAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Account.AccountRegisterDTO]] CreateAccount(TourismWeb.DTOs.Account.AccountRegisterDTO) on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:32:56.1182 INFO Register attempt for username: huynhphuong123, email: huynhphuonggg1975@gmail.com 
2025-05-12 12:32:56.1522 INFO Executed DbCommand (9ms) [Parameters=[@__account_Username_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[OTP], [a].[Password], [a].[Role], [a].[Username], [a].[isConfirmed]
FROM [Accounts] AS [a]
WHERE [a].[Username] = @__account_Username_0 
2025-05-12 12:32:56.1828 INFO Executed DbCommand (2ms) [Parameters=[@__account_Email_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[OTP], [a].[Password], [a].[Role], [a].[Username], [a].[isConfirmed]
FROM [Accounts] AS [a]
WHERE [a].[Email] = @__account_Email_0 
2025-05-12 12:32:56.2123 INFO Executed DbCommand (8ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000), p2='?' (Size = 4000), p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
EXEC CreateAccount @Username = @p0, @Password = @p1, @Email = @p2, @OTP = @p3 
2025-05-12 12:32:59.3010 INFO Account created successfully for username: huynhphuong123 
2025-05-12 12:32:59.3010 INFO Executing CreatedResult, writing value of type 'TourismWeb.DTOs.Account.AccountRegisterDTO'. 
2025-05-12 12:32:59.3010 INFO Executed action TourismWeb.Controllers.AccountController.CreateAccount (TourismWeb) in 3180.36ms 
2025-05-12 12:32:59.3010 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CreateAccount (TourismWeb)' 
2025-05-12 12:32:59.3063 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Account/register - 201 - application/json;+charset=utf-8 3190.8141ms 
2025-05-12 12:32:59.3063 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/create - - - 
2025-05-12 12:32:59.3063 INFO CORS policy execution successful. 
2025-05-12 12:32:59.3063 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/create - 204 - - 1.7721ms 
2025-05-12 12:32:59.3063 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Customer/create - application/json 39 
2025-05-12 12:32:59.3063 INFO CORS policy execution successful. 
2025-05-12 12:32:59.3063 INFO Executing endpoint 'TourismWeb.Controllers.CustomerController.CreateCustomer (TourismWeb)' 
2025-05-12 12:32:59.3063 INFO Route matched with {action = "CreateCustomer", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.Models.Customer]] CreateCustomer(TourismWeb.DTOs.Customer.CustomerCreateDTO) on controller TourismWeb.Controllers.CustomerController (TourismWeb). 
2025-05-12 12:32:59.3212 INFO Customer creation attempt for email: huynhphuonggg1975@gmail.com 
2025-05-12 12:32:59.3618 INFO Executed DbCommand (12ms) [Parameters=[p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
EXEC CreateCustomer @Email = @p0 
2025-05-12 12:32:59.3618 INFO Customer created successfully: CUS004 
2025-05-12 12:32:59.3618 INFO Executing CreatedAtActionResult, writing value of type 'TourismWeb.Models.Customer'. 
2025-05-12 12:32:59.4086 INFO Executed action TourismWeb.Controllers.CustomerController.CreateCustomer (TourismWeb) in 86.585ms 
2025-05-12 12:32:59.4086 INFO Executed endpoint 'TourismWeb.Controllers.CustomerController.CreateCustomer (TourismWeb)' 
2025-05-12 12:32:59.4086 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Customer/create - 201 - application/json;+charset=utf-8 96.1997ms 
2025-05-12 12:33:06.6993 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Account/Confirm?email=huynhphuonggg1975%40gmail.com&otp=994815 - - 0 
2025-05-12 12:33:06.7195 INFO CORS policy execution successful. 
2025-05-12 12:33:06.7195 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Account/Confirm?email=huynhphuonggg1975%40gmail.com&otp=994815 - - 0 
2025-05-12 12:33:06.7195 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.ConfirmEmail (TourismWeb)' 
2025-05-12 12:33:06.7290 INFO Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String) on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:33:06.7290 INFO CORS policy execution successful. 
2025-05-12 12:33:06.7290 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.ConfirmEmail (TourismWeb)' 
2025-05-12 12:33:06.7429 INFO Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(System.String, System.String) on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:33:06.7748 INFO Email confirmation attempt for email: huynhphuonggg1975@gmail.com 
2025-05-12 12:33:06.7748 INFO Email confirmation attempt for email: huynhphuonggg1975@gmail.com 
2025-05-12 12:33:06.8562 INFO Executed DbCommand (17ms) [Parameters=[@__account_Email_0='?' (Size = 100), @__account_OTP_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[OTP], [a].[Password], [a].[Role], [a].[Username], [a].[isConfirmed]
FROM [Accounts] AS [a]
WHERE [a].[Email] = @__account_Email_0 AND [a].[OTP] = @__account_OTP_1 
2025-05-12 12:33:06.8562 INFO Executed DbCommand (5ms) [Parameters=[@__account_Email_0='?' (Size = 100), @__account_OTP_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[OTP], [a].[Password], [a].[Role], [a].[Username], [a].[isConfirmed]
FROM [Accounts] AS [a]
WHERE [a].[Email] = @__account_Email_0 AND [a].[OTP] = @__account_OTP_1 
2025-05-12 12:33:06.9352 INFO Executed DbCommand (21ms) [Parameters=[@p5='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Accounts] SET [OTP] = @p0, [Password] = @p1, [Role] = @p2, [Username] = @p3, [isConfirmed] = @p4
OUTPUT 1
WHERE [Id] = @p5; 
2025-05-12 12:33:06.9352 INFO Executed DbCommand (20ms) [Parameters=[@p5='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Accounts] SET [OTP] = @p0, [Password] = @p1, [Role] = @p2, [Username] = @p3, [isConfirmed] = @p4
OUTPUT 1
WHERE [Id] = @p5; 
2025-05-12 12:33:06.9470 INFO Email huynhphuonggg1975@gmail.com confirmed successfully. 
2025-05-12 12:33:06.9470 INFO Email huynhphuonggg1975@gmail.com confirmed successfully. 
2025-05-12 12:33:06.9620 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:33:06.9620 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:33:06.9620 INFO Executed action TourismWeb.Controllers.AccountController.ConfirmEmail (TourismWeb) in 222.2941ms 
2025-05-12 12:33:06.9620 INFO Executed action TourismWeb.Controllers.AccountController.ConfirmEmail (TourismWeb) in 212.0195ms 
2025-05-12 12:33:06.9620 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.ConfirmEmail (TourismWeb)' 
2025-05-12 12:33:06.9620 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.ConfirmEmail (TourismWeb)' 
2025-05-12 12:33:06.9795 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Account/Confirm?email=huynhphuonggg1975%40gmail.com&otp=994815 - 200 - application/json;+charset=utf-8 284.2673ms 
2025-05-12 12:33:06.9795 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Account/Confirm?email=huynhphuonggg1975%40gmail.com&otp=994815 - 200 - application/json;+charset=utf-8 264.8170ms 
2025-05-12 12:33:21.3074 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/login - - - 
2025-05-12 12:33:21.3074 INFO CORS policy execution successful. 
2025-05-12 12:33:21.3074 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/login - 204 - - 3.7123ms 
2025-05-12 12:33:21.3074 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Account/login - application/json 64 
2025-05-12 12:33:21.3074 INFO CORS policy execution successful. 
2025-05-12 12:33:21.3074 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckAccountExists (TourismWeb)' 
2025-05-12 12:33:21.3074 INFO Route matched with {action = "CheckAccountExists", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CheckAccountExists(TourismWeb.DTOs.Account.AccountLoginDTO) on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:33:21.3212 INFO Login attempt for username: customer 
2025-05-12 12:33:21.3212 INFO Executed DbCommand (8ms) [Parameters=[@__account_Username_0='?' (Size = 100), @__account_Password_1='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[OTP], [a].[Password], [a].[Role], [a].[Username], [a].[isConfirmed]
FROM [Accounts] AS [a]
WHERE [a].[Username] = @__account_Username_0 AND [a].[Password] = @__account_Password_1 
2025-05-12 12:33:21.3368 INFO Login successful for username: customer 
2025-05-12 12:33:21.3368 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[TourismWeb.DTOs.Account.AccountDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:33:21.3368 INFO Executed action TourismWeb.Controllers.AccountController.CheckAccountExists (TourismWeb) in 22.5933ms 
2025-05-12 12:33:21.3368 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckAccountExists (TourismWeb)' 
2025-05-12 12:33:21.3368 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Account/login - 200 - application/json;+charset=utf-8 29.1701ms 
2025-05-12 12:33:21.3368 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - - - 
2025-05-12 12:33:21.3368 INFO CORS policy execution successful. 
2025-05-12 12:33:21.3368 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - 204 - - 1.7155ms 
2025-05-12 12:33:21.3368 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - - - 
2025-05-12 12:33:21.3368 INFO CORS policy execution successful. 
2025-05-12 12:33:21.3368 INFO Executing endpoint 'TourismWeb.Controllers.CustomerController.GetCustomerByEmail (TourismWeb)' 
2025-05-12 12:33:21.3368 INFO Route matched with {action = "GetCustomerByEmail", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Customer.CustomerDTO]] GetCustomerByEmail(System.String) on controller TourismWeb.Controllers.CustomerController (TourismWeb). 
2025-05-12 12:33:21.3522 INFO Fetching customer with email: customer1@gmail.com 
2025-05-12 12:33:21.3522 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[DateOfBirth], [c].[Email], [c].[Gender], [c].[Name], [c].[Phone]
FROM [Customers] AS [c]
WHERE [c].[Email] = @__email_0 
2025-05-12 12:33:21.3522 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Customer.CustomerDTO'. 
2025-05-12 12:33:21.3522 INFO Executed action TourismWeb.Controllers.CustomerController.GetCustomerByEmail (TourismWeb) in 10.4386ms 
2025-05-12 12:33:21.3522 INFO Executed endpoint 'TourismWeb.Controllers.CustomerController.GetCustomerByEmail (TourismWeb)' 
2025-05-12 12:33:21.3522 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Customer/email?email=customer1%40gmail.com - 200 - application/json;+charset=utf-8 16.6908ms 
2025-05-12 12:33:23.3745 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - - - 
2025-05-12 12:33:23.3745 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - - - 
2025-05-12 12:33:23.3745 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/search - - - 
2025-05-12 12:33:23.3846 INFO CORS policy execution successful. 
2025-05-12 12:33:23.4003 INFO Executing endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:33:23.4003 INFO CORS policy execution successful. 
2025-05-12 12:33:23.4003 INFO CORS policy execution successful. 
2025-05-12 12:33:23.4003 INFO Route matched with {action = "GetALlLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.Models.Location]]] GetALlLocation() on controller TourismWeb.Controllers.LocationController (TourismWeb). 
2025-05-12 12:33:23.4170 INFO Executing endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:33:23.4170 INFO Executing endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:33:23.4170 INFO Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Category.CategoryDTO]]] GetAllCategories() on controller TourismWeb.Controllers.CategoryController (TourismWeb). 
2025-05-12 12:33:23.4170 INFO Route matched with {action = "SearchTours", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourCardDTO]]] SearchTours(TourismWeb.DTOs.Tour.TourSearchDTO) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:33:23.4170 INFO Fetching all locations. 
2025-05-12 12:33:23.4309 INFO Fetching all categories. 
2025-05-12 12:33:23.4936 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Categories] AS [c] 
2025-05-12 12:33:23.4936 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Locations] AS [l] 
2025-05-12 12:33:23.4936 INFO Searching tours. 
2025-05-12 12:33:23.5301 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Location.LocationDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:33:23.5301 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Category.CategoryDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:33:23.5301 INFO Executed action TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb) in 113.2543ms 
2025-05-12 12:33:23.5301 INFO Executed endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:33:23.5301 INFO Executed action TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb) in 109.3676ms 
2025-05-12 12:33:23.5301 INFO Executed endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:33:23.5409 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - - - 
2025-05-12 12:33:23.5409 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - 200 - application/json;+charset=utf-8 168.6697ms 
2025-05-12 12:33:23.5409 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - - - 
2025-05-12 12:33:23.5409 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - 200 - application/json;+charset=utf-8 167.4519ms 
2025-05-12 12:33:23.5409 INFO CORS policy execution successful. 
2025-05-12 12:33:23.5409 INFO CORS policy execution successful. 
2025-05-12 12:33:23.5409 INFO Executing endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:33:23.5409 INFO Route matched with {action = "GetALlLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.Models.Location]]] GetALlLocation() on controller TourismWeb.Controllers.LocationController (TourismWeb). 
2025-05-12 12:33:23.5409 INFO Executing endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:33:23.5409 INFO Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Category.CategoryDTO]]] GetAllCategories() on controller TourismWeb.Controllers.CategoryController (TourismWeb). 
2025-05-12 12:33:23.5553 INFO Fetching all locations. 
2025-05-12 12:33:23.5553 INFO Fetching all categories. 
2025-05-12 12:33:23.5553 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Locations] AS [l] 
2025-05-12 12:33:23.5715 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Categories] AS [c] 
2025-05-12 12:33:23.5715 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Location.LocationDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:33:23.5715 INFO Executed action TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb) in 28.5644ms 
2025-05-12 12:33:23.5715 INFO Executed endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:33:23.5874 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - 200 - application/json;+charset=utf-8 49.3872ms 
2025-05-12 12:33:23.5874 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Category.CategoryDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:33:23.5874 INFO Executed action TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb) in 36.6163ms 
2025-05-12 12:33:23.5874 INFO Executed endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:33:23.5874 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - 200 - application/json;+charset=utf-8 52.1873ms 
2025-05-12 12:33:43.3836 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/search - - - 
2025-05-12 12:33:43.3836 INFO CORS policy execution successful. 
2025-05-12 12:33:43.3836 INFO Executing endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:33:43.3836 INFO Route matched with {action = "SearchTours", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourCardDTO]]] SearchTours(TourismWeb.DTOs.Tour.TourSearchDTO) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:33:43.4013 INFO Searching tours. 
2025-05-12 12:33:48.6581 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourCardDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:33:48.6760 INFO Executed action TourismWeb.Controllers.TourController.SearchTours (TourismWeb) in 25239.953ms 
2025-05-12 12:33:48.6760 INFO Executed endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:33:48.6760 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/search - 200 - application/json;+charset=utf-8 25299.3589ms 
2025-05-12 12:34:01.9022 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/search?departureLocation=Ph%E1%BB%91+c%E1%BB%95+H%E1%BB%99i+An&category=Du+l%E1%BB%8Bch+v%C4%83n+h%C3%B3a - - - 
2025-05-12 12:34:01.9022 INFO CORS policy execution successful. 
2025-05-12 12:34:01.9022 INFO Executing endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:34:01.9022 INFO Route matched with {action = "SearchTours", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourCardDTO]]] SearchTours(TourismWeb.DTOs.Tour.TourSearchDTO) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:34:01.9152 INFO Searching tours. 
2025-05-12 12:34:08.4626 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourCardDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:34:08.4626 INFO Executed action TourismWeb.Controllers.TourController.SearchTours (TourismWeb) in 25071.321ms 
2025-05-12 12:34:08.4626 INFO Executed endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:34:08.4626 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/search - 200 - application/json;+charset=utf-8 25086.9418ms 
2025-05-12 12:34:26.9410 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourCardDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:34:26.9410 INFO Executed action TourismWeb.Controllers.TourController.SearchTours (TourismWeb) in 25035.6124ms 
2025-05-12 12:34:26.9410 INFO Executed endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:34:26.9460 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/search?departureLocation=Ph%E1%BB%91+c%E1%BB%95+H%E1%BB%99i+An&category=Du+l%E1%BB%8Bch+v%C4%83n+h%C3%B3a - 200 - application/json;+charset=utf-8 25043.2535ms 
2025-05-12 12:34:53.5586 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/search?departureLocation=Ph%E1%BB%91+c%E1%BB%95+H%E1%BB%99i+An&category=Du+l%E1%BB%8Bch+v%C4%83n+h%C3%B3a&departureTime=2025-05-20T00:00:00.000Z - - - 
2025-05-12 12:34:53.5586 INFO CORS policy execution successful. 
2025-05-12 12:34:53.5714 INFO Executing endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:34:53.5714 INFO Route matched with {action = "SearchTours", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourCardDTO]]] SearchTours(TourismWeb.DTOs.Tour.TourSearchDTO) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:34:53.5714 INFO Searching tours. 
2025-05-12 12:34:53.6494 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourCardDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:34:53.6494 INFO Executed action TourismWeb.Controllers.TourController.SearchTours (TourismWeb) in 76.5604ms 
2025-05-12 12:34:53.6494 INFO Executed endpoint 'TourismWeb.Controllers.TourController.SearchTours (TourismWeb)' 
2025-05-12 12:34:53.6494 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/search?departureLocation=Ph%E1%BB%91+c%E1%BB%95+H%E1%BB%99i+An&category=Du+l%E1%BB%8Bch+v%C4%83n+h%C3%B3a&departureTime=2025-05-20T00:00:00.000Z - 200 - application/json;+charset=utf-8 89.7094ms 
2025-05-12 12:34:59.8336 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/promotions - - - 
2025-05-12 12:34:59.8367 INFO CORS policy execution successful. 
2025-05-12 12:34:59.8367 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourPromotion (TourismWeb)' 
2025-05-12 12:34:59.8367 INFO Route matched with {action = "GetAllTourPromotion", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourCardDTO]]] GetAllTourPromotion() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:34:59.8367 INFO Fetching all promotion tours. 
2025-05-12 12:35:19.8533 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/promotions - - - 
2025-05-12 12:35:19.8533 INFO CORS policy execution successful. 
2025-05-12 12:35:19.8533 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourPromotion (TourismWeb)' 
2025-05-12 12:35:19.8533 INFO Route matched with {action = "GetAllTourPromotion", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourCardDTO]]] GetAllTourPromotion() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:35:19.8533 INFO Fetching all promotion tours. 
2025-05-12 12:35:24.9047 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourCardDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:24.9047 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourPromotion (TourismWeb) in 25065.009ms 
2025-05-12 12:35:24.9047 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourPromotion (TourismWeb)' 
2025-05-12 12:35:24.9047 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/promotions - 200 - application/json;+charset=utf-8 25076.1108ms 
2025-05-12 12:35:27.9799 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - - - 
2025-05-12 12:35:27.9799 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/by-tour?tourID=TOUR001 - - - 
2025-05-12 12:35:27.9942 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Image/get-tour?tourId=TOUR001 - - - 
2025-05-12 12:35:27.9942 INFO CORS policy execution successful. 
2025-05-12 12:35:27.9942 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Review/get-tour?tourID=TOUR001 - - - 
2025-05-12 12:35:28.0085 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:35:28.0085 INFO CORS policy execution successful. 
2025-05-12 12:35:28.0085 INFO Route matched with {action = "GetTourById", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Tours.TourDTO]] GetTourById(System.String) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:35:28.0085 INFO CORS policy execution successful. 
2025-05-12 12:35:28.0085 INFO CORS policy execution successful. 
2025-05-12 12:35:28.0085 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetCalendarData (TourismWeb)' 
2025-05-12 12:35:28.0085 INFO Executing endpoint 'TourismWeb.Controllers.ImageController.GetImagesByTourId (TourismWeb)' 
2025-05-12 12:35:28.0085 INFO Executing endpoint 'TourismWeb.Controllers.ReviewController.GetTourReviews (TourismWeb)' 
2025-05-12 12:35:28.0085 INFO Route matched with {action = "GetCalendarData", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleCalendarDTO]]] GetCalendarData(System.String) on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:35:28.0248 INFO Route matched with {action = "GetTourReviews", controller = "Review"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTourReviews(System.String) on controller TourismWeb.Controllers.ReviewController (TourismWeb). 
2025-05-12 12:35:28.0248 INFO Route matched with {action = "GetImagesByTourId", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Image.ImageTourDTO]]] GetImagesByTourId(System.String) on controller TourismWeb.Controllers.ImageController (TourismWeb). 
2025-05-12 12:35:28.0406 INFO Fetching tour with ID: TOUR001 
2025-05-12 12:35:28.0406 INFO Fetching calendar data for tour ID: TOUR001 
2025-05-12 12:35:28.0406 INFO Fetching images for tour ID: TOUR001 
2025-05-12 12:35:28.0406 INFO Fetching reviews for tour ID: TOUR001 
2025-05-12 12:35:28.0868 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Tour_Id], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[Tour_Id] = @__tourId_0 
2025-05-12 12:35:28.0868 INFO Executed DbCommand (4ms) [Parameters=[@__tourID_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[Adult_price], [s].[Available], [s].[Children_price], [s].[Create_at], [s].[Discount], [s].[Start_date], [s].[Status], [s].[Tour_Id]
FROM [Schedules] AS [s]
WHERE [s].[Tour_Id] = @__tourID_0 
2025-05-12 12:35:28.1035 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Image.ImageTourDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:28.1035 INFO Executed action TourismWeb.Controllers.ImageController.GetImagesByTourId (TourismWeb) in 68.4303ms 
2025-05-12 12:35:28.1035 INFO Executed endpoint 'TourismWeb.Controllers.ImageController.GetImagesByTourId (TourismWeb)' 
2025-05-12 12:35:28.1347 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Image/get-tour?tourId=TOUR001 - - - 
2025-05-12 12:35:28.1347 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Image/get-tour?tourId=TOUR001 - 200 - application/json;+charset=utf-8 139.2835ms 
2025-05-12 12:35:28.1497 INFO CORS policy execution successful. 
2025-05-12 12:35:28.1497 INFO Executing endpoint 'TourismWeb.Controllers.ImageController.GetImagesByTourId (TourismWeb)' 
2025-05-12 12:35:28.1497 INFO Route matched with {action = "GetImagesByTourId", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Image.ImageTourDTO]]] GetImagesByTourId(System.String) on controller TourismWeb.Controllers.ImageController (TourismWeb). 
2025-05-12 12:35:28.1497 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0 
2025-05-12 12:35:28.1497 INFO Executed DbCommand (5ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[Comment], [r].[Rating], [r].[Create_at] AS [CreateAt], [c].[Name] AS [CustomerName]
FROM [Reviews] AS [r]
INNER JOIN [Customers] AS [c] ON [r].[Customer_Id] = [c].[Id]
WHERE [r].[Tour_Id] = @__tourId_0 
2025-05-12 12:35:28.1657 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleCalendarDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:28.1657 INFO Executed action TourismWeb.Controllers.ScheduleController.GetCalendarData (TourismWeb) in 131.5736ms 
2025-05-12 12:35:28.1657 INFO Fetching images for tour ID: TOUR001 
2025-05-12 12:35:28.1657 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/by-tour?tourID=TOUR001 - - - 
2025-05-12 12:35:28.1657 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetCalendarData (TourismWeb)' 
2025-05-12 12:35:28.1657 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/by-tour?tourID=TOUR001 - 200 - application/json;+charset=utf-8 183.3090ms 
2025-05-12 12:35:28.1657 INFO CORS policy execution successful. 
2025-05-12 12:35:28.1657 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Review.ReviewTourDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:28.1657 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetCalendarData (TourismWeb)' 
2025-05-12 12:35:28.1657 INFO Route matched with {action = "GetCalendarData", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleCalendarDTO]]] GetCalendarData(System.String) on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:35:28.1657 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Tour_Id], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[Tour_Id] = @__tourId_0 
2025-05-12 12:35:28.1657 INFO Executed action TourismWeb.Controllers.ReviewController.GetTourReviews (TourismWeb) in 141.5635ms 
2025-05-12 12:35:28.1805 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Review/get-tour?tourID=TOUR001 - - - 
2025-05-12 12:35:28.1805 INFO Executed endpoint 'TourismWeb.Controllers.ReviewController.GetTourReviews (TourismWeb)' 
2025-05-12 12:35:28.1805 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Review/get-tour?tourID=TOUR001 - 200 - application/json;+charset=utf-8 184.0099ms 
2025-05-12 12:35:28.1805 INFO CORS policy execution successful. 
2025-05-12 12:35:28.1805 INFO Executing endpoint 'TourismWeb.Controllers.ReviewController.GetTourReviews (TourismWeb)' 
2025-05-12 12:35:28.1805 INFO Route matched with {action = "GetTourReviews", controller = "Review"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTourReviews(System.String) on controller TourismWeb.Controllers.ReviewController (TourismWeb). 
2025-05-12 12:35:28.1965 INFO Fetching calendar data for tour ID: TOUR001 
2025-05-12 12:35:28.2116 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Image.ImageTourDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:28.2116 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Tours.TourDTO'. 
2025-05-12 12:35:28.2116 INFO Executed action TourismWeb.Controllers.ImageController.GetImagesByTourId (TourismWeb) in 54.2557ms 
2025-05-12 12:35:28.2116 INFO Executed endpoint 'TourismWeb.Controllers.ImageController.GetImagesByTourId (TourismWeb)' 
2025-05-12 12:35:28.2116 INFO Executed action TourismWeb.Controllers.TourController.GetTourById (TourismWeb) in 190.2158ms 
2025-05-12 12:35:28.2116 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - - - 
2025-05-12 12:35:28.2116 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:35:28.2282 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Image/get-tour?tourId=TOUR001 - 200 - application/json;+charset=utf-8 97.8082ms 
2025-05-12 12:35:28.2282 INFO Executed DbCommand (8ms) [Parameters=[@__tourID_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[Adult_price], [s].[Available], [s].[Children_price], [s].[Create_at], [s].[Discount], [s].[Start_date], [s].[Status], [s].[Tour_Id]
FROM [Schedules] AS [s]
WHERE [s].[Tour_Id] = @__tourID_0 
2025-05-12 12:35:28.2282 INFO Fetching reviews for tour ID: TOUR001 
2025-05-12 12:35:28.2282 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - 200 - application/json;+charset=utf-8 259.9349ms 
2025-05-12 12:35:28.2435 INFO CORS policy execution successful. 
2025-05-12 12:35:28.2435 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:35:28.2435 INFO Route matched with {action = "GetTourById", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Tours.TourDTO]] GetTourById(System.String) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:35:28.2585 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleCalendarDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:28.2585 INFO Executed DbCommand (6ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[Comment], [r].[Rating], [r].[Create_at] AS [CreateAt], [c].[Name] AS [CustomerName]
FROM [Reviews] AS [r]
INNER JOIN [Customers] AS [c] ON [r].[Customer_Id] = [c].[Id]
WHERE [r].[Tour_Id] = @__tourId_0 
2025-05-12 12:35:28.2585 INFO Executed action TourismWeb.Controllers.ScheduleController.GetCalendarData (TourismWeb) in 73.7736ms 
2025-05-12 12:35:28.2585 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetCalendarData (TourismWeb)' 
2025-05-12 12:35:28.2585 INFO Fetching tour with ID: TOUR001 
2025-05-12 12:35:28.2585 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/by-tour?tourID=TOUR001 - 200 - application/json;+charset=utf-8 98.1004ms 
2025-05-12 12:35:28.2585 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Review.ReviewTourDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:28.2585 INFO Executed action TourismWeb.Controllers.ReviewController.GetTourReviews (TourismWeb) in 60.651ms 
2025-05-12 12:35:28.2585 INFO Executed endpoint 'TourismWeb.Controllers.ReviewController.GetTourReviews (TourismWeb)' 
2025-05-12 12:35:28.2746 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0 
2025-05-12 12:35:28.2746 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Review/get-tour?tourID=TOUR001 - 200 - application/json;+charset=utf-8 95.6799ms 
2025-05-12 12:35:28.2746 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Tours.TourDTO'. 
2025-05-12 12:35:28.2746 INFO Executed action TourismWeb.Controllers.TourController.GetTourById (TourismWeb) in 26.0509ms 
2025-05-12 12:35:28.2746 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:35:28.2746 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - 200 - application/json;+charset=utf-8 64.0548ms 
2025-05-12 12:35:36.8691 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/booking-data?scheID=SCHE501 - - - 
2025-05-12 12:35:36.8691 INFO CORS policy execution successful. 
2025-05-12 12:35:36.8691 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetScheduleBookingData (TourismWeb)' 
2025-05-12 12:35:36.8837 INFO Route matched with {action = "GetScheduleBookingData", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Schedule.ScheduleBookingDTO]] GetScheduleBookingData(System.String) on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:35:36.8837 INFO Fetching booking data for schedule ID: SCHE501 
2025-05-12 12:35:36.9305 INFO Executed DbCommand (4ms) [Parameters=[@__scheID_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [t].[Name] AS [TourName], [t].[Duration], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildPrice]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id]
WHERE [s].[Id] = @__scheID_0 
2025-05-12 12:35:36.9305 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Schedule.ScheduleBookingDTO'. 
2025-05-12 12:35:36.9305 INFO Executed action TourismWeb.Controllers.ScheduleController.GetScheduleBookingData (TourismWeb) in 51.4883ms 
2025-05-12 12:35:36.9305 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetScheduleBookingData (TourismWeb)' 
2025-05-12 12:35:36.9305 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/booking-data?scheID=SCHE501 - - - 
2025-05-12 12:35:36.9305 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/booking-data?scheID=SCHE501 - 200 - application/json;+charset=utf-8 75.5287ms 
2025-05-12 12:35:36.9305 INFO CORS policy execution successful. 
2025-05-12 12:35:36.9305 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetScheduleBookingData (TourismWeb)' 
2025-05-12 12:35:36.9464 INFO Route matched with {action = "GetScheduleBookingData", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Schedule.ScheduleBookingDTO]] GetScheduleBookingData(System.String) on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:35:36.9464 INFO Fetching booking data for schedule ID: SCHE501 
2025-05-12 12:35:36.9464 INFO Executed DbCommand (2ms) [Parameters=[@__scheID_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [t].[Name] AS [TourName], [t].[Duration], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildPrice]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id]
WHERE [s].[Id] = @__scheID_0 
2025-05-12 12:35:36.9624 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Schedule.ScheduleBookingDTO'. 
2025-05-12 12:35:36.9624 INFO Executed action TourismWeb.Controllers.ScheduleController.GetScheduleBookingData (TourismWeb) in 15.4513ms 
2025-05-12 12:35:36.9624 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetScheduleBookingData (TourismWeb)' 
2025-05-12 12:35:36.9624 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/booking-data?scheID=SCHE501 - 200 - application/json;+charset=utf-8 24.3520ms 
2025-05-12 12:35:40.6445 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:40.6445 INFO CORS policy execution successful. 
2025-05-12 12:35:40.6445 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 1.9515ms 
2025-05-12 12:35:40.6445 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:40.6496 INFO CORS policy execution successful. 
2025-05-12 12:35:40.6496 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:40.6496 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:35:40.6496 INFO Checking JWT token validity. 
2025-05-12 12:35:40.6496 INFO Token is valid. 
2025-05-12 12:35:40.6496 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:35:40.6496 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 4.9927ms 
2025-05-12 12:35:40.6496 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:40.6496 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 10.5369ms 
2025-05-12 12:35:40.6496 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/create - - - 
2025-05-12 12:35:40.6646 INFO CORS policy execution successful. 
2025-05-12 12:35:40.6646 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/create - 204 - - 2.0828ms 
2025-05-12 12:35:40.6646 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Booking/create - application/json 132 
2025-05-12 12:35:40.6646 INFO CORS policy execution successful. 
2025-05-12 12:35:40.6646 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.CreateBooking (TourismWeb)' 
2025-05-12 12:35:40.6646 INFO Route matched with {action = "CreateBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateBooking(TourismWeb.DTOs.Booking.BookingCreateDTO) on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:35:40.6820 INFO Booking creation attempt for customer ID: CUS001 
2025-05-12 12:35:40.6991 INFO Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id]
FROM [Accounts] AS [a]
INNER JOIN [Customers] AS [c] ON [a].[Email] = [c].[Email]
WHERE [a].[Username] = @__username_0 
2025-05-12 12:35:40.7509 INFO Executed DbCommand (18ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000), p2='?' (DbType = Int32), p3='?' (DbType = Int32), p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']

                    EXEC CreateBooking 
                        @CustomerId = @p0, 
                        @ScheduleId = @p1, 
                        @NumberOfAdultBookings = @p2, 
                        @NumberOfChildrenBookings = @p3, 
                        @TotalPrice = @p4 
2025-05-12 12:35:40.7650 INFO Booking created successfully for customer ID: CUS001 
2025-05-12 12:35:40.7746 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType6`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[TourismWeb.DTOs.Booking.BookingDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:40.7746 INFO Executed action TourismWeb.Controllers.BookingController.CreateBooking (TourismWeb) in 103.9287ms 
2025-05-12 12:35:40.7746 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.CreateBooking (TourismWeb)' 
2025-05-12 12:35:40.7746 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Booking/create - 200 - application/json;+charset=utf-8 117.7686ms 
2025-05-12 12:35:42.8158 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:42.8158 INFO CORS policy execution successful. 
2025-05-12 12:35:42.8158 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:42.8158 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:35:42.8216 INFO Checking JWT token validity. 
2025-05-12 12:35:42.8216 INFO Token is valid. 
2025-05-12 12:35:42.8216 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:35:42.8216 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 4.1055ms 
2025-05-12 12:35:42.8216 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:42.8216 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 12.1480ms 
2025-05-12 12:35:42.8216 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:42.8216 INFO CORS policy execution successful. 
2025-05-12 12:35:42.8216 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:42.8216 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:35:42.8216 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/customer - - - 
2025-05-12 12:35:42.8216 INFO CORS policy execution successful. 
2025-05-12 12:35:42.8216 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/customer - 204 - - 3.9881ms 
2025-05-12 12:35:42.8216 INFO Checking JWT token validity. 
2025-05-12 12:35:42.8373 INFO Token is valid. 
2025-05-12 12:35:42.8373 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:35:42.8373 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 5.5065ms 
2025-05-12 12:35:42.8373 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:42.8373 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 12.3046ms 
2025-05-12 12:35:42.8373 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Booking/customer - - - 
2025-05-12 12:35:42.8373 INFO CORS policy execution successful. 
2025-05-12 12:35:42.8373 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:42.8373 INFO Route matched with {action = "GetAllBookingOfCustomer", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Booking.BookingTableDataDTO]]] GetAllBookingOfCustomer() on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:35:42.8530 INFO Fetching all bookings for customer. 
2025-05-12 12:35:42.8530 INFO Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id]
FROM [Accounts] AS [a]
INNER JOIN [Customers] AS [c] ON [a].[Email] = [c].[Email]
WHERE [a].[Username] = @__username_0 
2025-05-12 12:35:42.8700 INFO Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[Booking_date], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Total_price], [b].[Status]
FROM [Bookings] AS [b]
WHERE [b].[Customer_Id] = @__customerId_0 
2025-05-12 12:35:42.9020 INFO Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9020 INFO Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9157 INFO Executed DbCommand (3ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9157 INFO Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9157 INFO Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9313 INFO Retrieved 5 bookings for customer ID: CUS001 
2025-05-12 12:35:42.9313 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Booking.BookingTableDataDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:42.9313 INFO Executed action TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb) in 85.2779ms 
2025-05-12 12:35:42.9313 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:42.9313 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Booking/customer - - - 
2025-05-12 12:35:42.9313 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Booking/customer - 200 - application/json;+charset=utf-8 95.7913ms 
2025-05-12 12:35:42.9313 INFO CORS policy execution successful. 
2025-05-12 12:35:42.9313 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:42.9313 INFO Route matched with {action = "GetAllBookingOfCustomer", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Booking.BookingTableDataDTO]]] GetAllBookingOfCustomer() on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:35:42.9466 INFO Fetching all bookings for customer. 
2025-05-12 12:35:42.9466 INFO Executed DbCommand (3ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id]
FROM [Accounts] AS [a]
INNER JOIN [Customers] AS [c] ON [a].[Email] = [c].[Email]
WHERE [a].[Username] = @__username_0 
2025-05-12 12:35:42.9466 INFO Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[Booking_date], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Total_price], [b].[Status]
FROM [Bookings] AS [b]
WHERE [b].[Customer_Id] = @__customerId_0 
2025-05-12 12:35:42.9627 INFO Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9627 INFO Executed DbCommand (1ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9627 INFO Executed DbCommand (1ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9781 INFO Executed DbCommand (2ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9781 INFO Executed DbCommand (1ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:42.9781 INFO Retrieved 5 bookings for customer ID: CUS001 
2025-05-12 12:35:42.9781 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Booking.BookingTableDataDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:42.9781 INFO Executed action TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb) in 44.8065ms 
2025-05-12 12:35:42.9781 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:42.9781 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Booking/customer - 200 - application/json;+charset=utf-8 53.4075ms 
2025-05-12 12:35:44.9199 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourCardDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:44.9199 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourPromotion (TourismWeb) in 25059.4969ms 
2025-05-12 12:35:44.9199 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourPromotion (TourismWeb)' 
2025-05-12 12:35:44.9199 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/promotions - 499 - application/json;+charset=utf-8 25073.7027ms 
2025-05-12 12:35:52.6860 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Review - - - 
2025-05-12 12:35:52.6860 INFO CORS policy execution successful. 
2025-05-12 12:35:52.6860 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Review - 204 - - 2.5252ms 
2025-05-12 12:35:52.6860 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Review - application/json 52 
2025-05-12 12:35:52.6860 INFO CORS policy execution successful. 
2025-05-12 12:35:52.6860 INFO Executing endpoint 'TourismWeb.Controllers.ReviewController.AddReview (TourismWeb)' 
2025-05-12 12:35:52.6860 INFO Route matched with {action = "AddReview", controller = "Review"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Review.ReviewDTO]] AddReview(TourismWeb.DTOs.Review.ReviewCreateDTO) on controller TourismWeb.Controllers.ReviewController (TourismWeb). 
2025-05-12 12:35:52.6969 INFO Review creation attempt for book ID: BOOK003 
2025-05-12 12:35:52.7155 INFO Executed DbCommand (3ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Customer_Id]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:52.7444 INFO Executed DbCommand (5ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Id]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:52.7640 INFO Executed DbCommand (8ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000), p2='?' (DbType = Int32), p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
EXEC CreateReview @TourId = @p0, @CustomerId = @p1, @Rating = @p2, @Comment = @p3 
2025-05-12 12:35:52.7991 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Booking_date], [b].[Customer_Id], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Schedule_Id], [b].[Status], [b].[Total_price]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0 
2025-05-12 12:35:52.8228 INFO Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Bookings] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-05-12 12:35:52.8228 INFO Review created successfully for book ID: BOOK003, review tour ID: TOUR002 
2025-05-12 12:35:52.8228 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Review.ReviewDTO'. 
2025-05-12 12:35:52.8228 INFO Executed action TourismWeb.Controllers.ReviewController.AddReview (TourismWeb) in 132.3036ms 
2025-05-12 12:35:52.8228 INFO Executed endpoint 'TourismWeb.Controllers.ReviewController.AddReview (TourismWeb)' 
2025-05-12 12:35:52.8228 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Review - 200 - application/json;+charset=utf-8 142.8882ms 
2025-05-12 12:35:52.8228 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:52.8366 INFO CORS policy execution successful. 
2025-05-12 12:35:52.8366 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 3.1613ms 
2025-05-12 12:35:52.8366 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:52.8366 INFO CORS policy execution successful. 
2025-05-12 12:35:52.8366 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:52.8366 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:35:52.8527 INFO Checking JWT token validity. 
2025-05-12 12:35:52.8527 INFO Token is valid. 
2025-05-12 12:35:52.8527 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:35:52.8527 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 11.597ms 
2025-05-12 12:35:52.8527 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:52.8527 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 23.6240ms 
2025-05-12 12:35:52.8702 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/customer - - - 
2025-05-12 12:35:52.8702 INFO CORS policy execution successful. 
2025-05-12 12:35:52.8702 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/customer - 204 - - 4.5243ms 
2025-05-12 12:35:52.8702 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Booking/customer - - - 
2025-05-12 12:35:52.8702 INFO CORS policy execution successful. 
2025-05-12 12:35:52.8836 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:52.8836 INFO Route matched with {action = "GetAllBookingOfCustomer", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Booking.BookingTableDataDTO]]] GetAllBookingOfCustomer() on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:35:52.8836 INFO Fetching all bookings for customer. 
2025-05-12 12:35:52.8997 INFO Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id]
FROM [Accounts] AS [a]
INNER JOIN [Customers] AS [c] ON [a].[Email] = [c].[Email]
WHERE [a].[Username] = @__username_0 
2025-05-12 12:35:52.9154 INFO Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[Booking_date], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Total_price], [b].[Status]
FROM [Bookings] AS [b]
WHERE [b].[Customer_Id] = @__customerId_0 
2025-05-12 12:35:52.9324 INFO Executed DbCommand (3ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:52.9324 INFO Executed DbCommand (1ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:52.9324 INFO Executed DbCommand (1ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:52.9324 INFO Executed DbCommand (1ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:52.9468 INFO Executed DbCommand (1ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:52.9468 INFO Retrieved 5 bookings for customer ID: CUS001 
2025-05-12 12:35:52.9468 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Booking.BookingTableDataDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:52.9468 INFO Executed action TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb) in 59.698ms 
2025-05-12 12:35:52.9468 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:52.9468 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Booking/customer - 200 - application/json;+charset=utf-8 79.0613ms 
2025-05-12 12:35:58.0399 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/cancel - - - 
2025-05-12 12:35:58.0399 INFO CORS policy execution successful. 
2025-05-12 12:35:58.0399 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/cancel - 204 - - 4.0729ms 
2025-05-12 12:35:58.0399 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Booking/cancel - application/json 9 
2025-05-12 12:35:58.0399 INFO CORS policy execution successful. 
2025-05-12 12:35:58.0560 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.CancelBooking (TourismWeb)' 
2025-05-12 12:35:58.0560 INFO Route matched with {action = "CancelBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelBooking(System.String) on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:35:58.0560 INFO Cancel booking attempt for booking ID: BOOK004 
2025-05-12 12:35:58.0719 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Booking_date], [b].[Customer_Id], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Schedule_Id], [b].[Status], [b].[Total_price]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0 
2025-05-12 12:35:58.0719 INFO Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Bookings] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-05-12 12:35:58.0873 INFO Executed DbCommand (2ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Schedule_Id] AS [Id], [b].[Number_of_adult_bookings] AS [Number_Adult], [b].[Number_of_children_bookings] AS [Number_Child]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:58.1186 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Adult_price], [s].[Available], [s].[Children_price], [s].[Create_at], [s].[Discount], [s].[Start_date], [s].[Status], [s].[Tour_Id]
FROM [Schedules] AS [s]
WHERE [s].[Id] = @__p_0 
2025-05-12 12:35:58.1654 INFO Executed DbCommand (8ms) [Parameters=[@p8='?' (Size = 450), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Double), @p5='?' (DbType = Date), @p6='?' (DbType = Int32), @p7='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Schedules] SET [Adult_price] = @p0, [Available] = @p1, [Children_price] = @p2, [Create_at] = @p3, [Discount] = @p4, [Start_date] = @p5, [Status] = @p6, [Tour_Id] = @p7
OUTPUT 1
WHERE [Id] = @p8; 
2025-05-12 12:35:58.1817 INFO Booking ID: BOOK004 cancelled successfully. 
2025-05-12 12:35:58.1817 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:35:58.1817 INFO Executed action TourismWeb.Controllers.BookingController.CancelBooking (TourismWeb) in 128.2507ms 
2025-05-12 12:35:58.1817 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.CancelBooking (TourismWeb)' 
2025-05-12 12:35:58.1817 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Booking/cancel - 200 - application/json;+charset=utf-8 144.1871ms 
2025-05-12 12:35:58.1986 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:58.1986 INFO CORS policy execution successful. 
2025-05-12 12:35:58.1986 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Account/CheckToken - 204 - - 5.8503ms 
2025-05-12 12:35:58.1986 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - - - 
2025-05-12 12:35:58.2131 INFO CORS policy execution successful. 
2025-05-12 12:35:58.2131 INFO Executing endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:58.2131 INFO Route matched with {action = "CheckToken", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckToken() on controller TourismWeb.Controllers.AccountController (TourismWeb). 
2025-05-12 12:35:58.2276 INFO Checking JWT token validity. 
2025-05-12 12:35:58.2276 INFO Token is valid. 
2025-05-12 12:35:58.2276 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:35:58.2276 INFO Executed action TourismWeb.Controllers.AccountController.CheckToken (TourismWeb) in 13.9041ms 
2025-05-12 12:35:58.2276 INFO Executed endpoint 'TourismWeb.Controllers.AccountController.CheckToken (TourismWeb)' 
2025-05-12 12:35:58.2276 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Account/CheckToken - 200 - application/json;+charset=utf-8 32.7744ms 
2025-05-12 12:35:58.2464 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/customer - - - 
2025-05-12 12:35:58.2464 INFO CORS policy execution successful. 
2025-05-12 12:35:58.2464 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/customer - 204 - - 6.2660ms 
2025-05-12 12:35:58.2464 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Booking/customer - - - 
2025-05-12 12:35:58.2589 INFO CORS policy execution successful. 
2025-05-12 12:35:58.2589 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:58.2589 INFO Route matched with {action = "GetAllBookingOfCustomer", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Booking.BookingTableDataDTO]]] GetAllBookingOfCustomer() on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:35:58.2746 INFO Fetching all bookings for customer. 
2025-05-12 12:35:58.2746 INFO Executed DbCommand (4ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id]
FROM [Accounts] AS [a]
INNER JOIN [Customers] AS [c] ON [a].[Email] = [c].[Email]
WHERE [a].[Username] = @__username_0 
2025-05-12 12:35:58.2900 INFO Executed DbCommand (4ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[Booking_date], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Total_price], [b].[Status]
FROM [Bookings] AS [b]
WHERE [b].[Customer_Id] = @__customerId_0 
2025-05-12 12:35:58.3071 INFO Executed DbCommand (5ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:58.3225 INFO Executed DbCommand (2ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:58.3372 INFO Executed DbCommand (3ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:58.3372 INFO Executed DbCommand (2ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:58.3534 INFO Executed DbCommand (3ms) [Parameters=[@__bookingId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Name], [s].[Start_date]
FROM [Tours] AS [t]
INNER JOIN [Schedules] AS [s] ON [t].[Id] = [s].[Tour_Id]
INNER JOIN [Bookings] AS [b] ON [s].[Id] = [b].[Schedule_Id]
WHERE [b].[Id] = @__bookingId_0 
2025-05-12 12:35:58.3534 INFO Retrieved 5 bookings for customer ID: CUS001 
2025-05-12 12:35:58.3692 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Booking.BookingTableDataDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:35:58.3692 INFO Executed action TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb) in 99.1578ms 
2025-05-12 12:35:58.3692 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingOfCustomer (TourismWeb)' 
2025-05-12 12:35:58.3692 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Booking/customer - 200 - application/json;+charset=utf-8 122.0440ms 
2025-05-12 12:36:32.9938 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:36:32.9938 INFO CORS policy execution successful. 
2025-05-12 12:36:32.9938 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:32.9938 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:33.0099 INFO Fetching all tour data for table. 
2025-05-12 12:36:33.0305 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:36:33.1031 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:33.1031 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 107.9197ms 
2025-05-12 12:36:33.1031 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:33.1178 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:36:33.1178 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 128.2008ms 
2025-05-12 12:36:33.1178 INFO CORS policy execution successful. 
2025-05-12 12:36:33.1178 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:33.1178 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:33.1178 INFO Fetching all tour data for table. 
2025-05-12 12:36:33.1339 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:36:33.1808 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:33.1808 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 53.2378ms 
2025-05-12 12:36:33.1808 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:33.1808 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 64.3652ms 
2025-05-12 12:36:34.5010 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:36:34.5010 INFO CORS policy execution successful. 
2025-05-12 12:36:34.5010 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:36:34.5010 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:36:34.5088 INFO Fetching schedule data for table. 
2025-05-12 12:36:34.5275 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:36:34.5401 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:34.5401 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 35.4629ms 
2025-05-12 12:36:34.5401 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:36:34.5401 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:36:34.5401 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 46.3695ms 
2025-05-12 12:36:34.5401 INFO CORS policy execution successful. 
2025-05-12 12:36:34.5401 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:36:34.5401 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:36:34.5401 INFO Fetching schedule data for table. 
2025-05-12 12:36:34.5566 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:36:34.5566 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:34.5566 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 13.4953ms 
2025-05-12 12:36:34.5566 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:36:34.5566 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 21.1381ms 
2025-05-12 12:36:34.9183 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:36:34.9183 INFO CORS policy execution successful. 
2025-05-12 12:36:34.9183 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:34.9183 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:34.9183 INFO Fetching all tour data for table. 
2025-05-12 12:36:34.9309 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:36:34.9467 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:34.9467 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 27.8456ms 
2025-05-12 12:36:34.9467 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:34.9467 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:36:34.9467 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 36.3216ms 
2025-05-12 12:36:34.9467 INFO CORS policy execution successful. 
2025-05-12 12:36:34.9467 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:34.9467 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:34.9467 INFO Fetching all tour data for table. 
2025-05-12 12:36:34.9467 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:36:34.9777 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:34.9777 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 24.3492ms 
2025-05-12 12:36:34.9777 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:34.9777 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 27.6456ms 
2025-05-12 12:36:36.0735 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - - - 
2025-05-12 12:36:36.0735 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - - - 
2025-05-12 12:36:36.0735 INFO CORS policy execution successful. 
2025-05-12 12:36:36.0735 INFO CORS policy execution successful. 
2025-05-12 12:36:36.0735 INFO Executing endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:36.0735 INFO Executing endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:36.0735 INFO Route matched with {action = "GetALlLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.Models.Location]]] GetALlLocation() on controller TourismWeb.Controllers.LocationController (TourismWeb). 
2025-05-12 12:36:36.0735 INFO Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Category.CategoryDTO]]] GetAllCategories() on controller TourismWeb.Controllers.CategoryController (TourismWeb). 
2025-05-12 12:36:36.0735 INFO Fetching all locations. 
2025-05-12 12:36:36.0735 INFO Fetching all categories. 
2025-05-12 12:36:36.0735 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Categories] AS [c] 
2025-05-12 12:36:36.0735 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Locations] AS [l] 
2025-05-12 12:36:36.0868 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Category.CategoryDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:36.0868 INFO Executed action TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb) in 18.154ms 
2025-05-12 12:36:36.0868 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Location.LocationDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:36.0868 INFO Executed endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:36.0868 INFO Executed action TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb) in 18.5996ms 
2025-05-12 12:36:36.0868 INFO Executed endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:36.0868 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - 200 - application/json;+charset=utf-8 23.0128ms 
2025-05-12 12:36:36.0868 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - 200 - application/json;+charset=utf-8 23.8451ms 
2025-05-12 12:36:36.0868 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - - - 
2025-05-12 12:36:36.0868 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - - - 
2025-05-12 12:36:36.0868 INFO CORS policy execution successful. 
2025-05-12 12:36:36.0868 INFO Executing endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:36.0868 INFO CORS policy execution successful. 
2025-05-12 12:36:36.0868 INFO Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Category.CategoryDTO]]] GetAllCategories() on controller TourismWeb.Controllers.CategoryController (TourismWeb). 
2025-05-12 12:36:36.0868 INFO Executing endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:36.0868 INFO Route matched with {action = "GetALlLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.Models.Location]]] GetALlLocation() on controller TourismWeb.Controllers.LocationController (TourismWeb). 
2025-05-12 12:36:36.0868 INFO Fetching all categories. 
2025-05-12 12:36:36.0868 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - - - 
2025-05-12 12:36:36.1029 INFO Fetching all locations. 
2025-05-12 12:36:36.1029 INFO CORS policy execution successful. 
2025-05-12 12:36:36.1029 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:36:36.1029 INFO Route matched with {action = "GetTourById", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Tours.TourDTO]] GetTourById(System.String) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:36.1029 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Categories] AS [c] 
2025-05-12 12:36:36.1029 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Locations] AS [l] 
2025-05-12 12:36:36.1029 INFO Fetching tour with ID: TOUR001 
2025-05-12 12:36:36.1029 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0 
2025-05-12 12:36:36.1029 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Category.CategoryDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:36.1029 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Location.LocationDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:36.1029 INFO Executed action TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb) in 15.329ms 
2025-05-12 12:36:36.1029 INFO Executed action TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb) in 14.2848ms 
2025-05-12 12:36:36.1029 INFO Executed endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:36.1029 INFO Executed endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:36.1178 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Tours.TourDTO'. 
2025-05-12 12:36:36.1178 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - 200 - application/json;+charset=utf-8 20.8653ms 
2025-05-12 12:36:36.1178 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - 200 - application/json;+charset=utf-8 20.2842ms 
2025-05-12 12:36:36.1178 INFO Executed action TourismWeb.Controllers.TourController.GetTourById (TourismWeb) in 13.1699ms 
2025-05-12 12:36:36.1178 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:36:36.1178 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - 200 - application/json;+charset=utf-8 17.7210ms 
2025-05-12 12:36:36.1178 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - - - 
2025-05-12 12:36:36.1178 INFO CORS policy execution successful. 
2025-05-12 12:36:36.1178 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:36:36.1178 INFO Route matched with {action = "GetTourById", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Tours.TourDTO]] GetTourById(System.String) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:36.1178 INFO Fetching tour with ID: TOUR001 
2025-05-12 12:36:36.1178 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0 
2025-05-12 12:36:36.1178 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Tours.TourDTO'. 
2025-05-12 12:36:36.1178 INFO Executed action TourismWeb.Controllers.TourController.GetTourById (TourismWeb) in 6.865ms 
2025-05-12 12:36:36.1178 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetTourById (TourismWeb)' 
2025-05-12 12:36:36.1178 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/TOUR001 - 200 - application/json;+charset=utf-8 9.7039ms 
2025-05-12 12:36:38.2985 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Tour/TOUR001 - - - 
2025-05-12 12:36:38.2985 INFO CORS policy execution successful. 
2025-05-12 12:36:38.2985 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Tour/TOUR001 - 204 - - 1.3028ms 
2025-05-12 12:36:38.2985 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Tour/TOUR001 - application/json 953 
2025-05-12 12:36:38.2985 INFO CORS policy execution successful. 
2025-05-12 12:36:38.2985 INFO Executing endpoint 'TourismWeb.Controllers.TourController.UpdateTourById (TourismWeb)' 
2025-05-12 12:36:38.3068 INFO Route matched with {action = "UpdateTourById", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Tours.TourCreateDTO]] UpdateTourById(System.String, TourismWeb.DTOs.Tour.TourUpdateDTO) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:38.3068 INFO Updating tour with ID: TOUR001 
2025-05-12 12:36:38.3068 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0 
2025-05-12 12:36:38.3263 INFO Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tours] SET [Update_at] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-05-12 12:36:38.3263 INFO Tour updated successfully: TOUR001 
2025-05-12 12:36:38.3263 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Tours.TourCreateDTO'. 
2025-05-12 12:36:38.3386 INFO Executed action TourismWeb.Controllers.TourController.UpdateTourById (TourismWeb) in 30.7731ms 
2025-05-12 12:36:38.3386 INFO Executed endpoint 'TourismWeb.Controllers.TourController.UpdateTourById (TourismWeb)' 
2025-05-12 12:36:38.3386 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Tour/TOUR001 - 200 - application/json;+charset=utf-8 36.8098ms 
2025-05-12 12:36:40.8272 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:36:40.8272 INFO CORS policy execution successful. 
2025-05-12 12:36:40.8272 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:40.8272 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:40.8272 INFO Fetching all tour data for table. 
2025-05-12 12:36:40.8272 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:36:40.8530 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:40.8530 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 27.3638ms 
2025-05-12 12:36:40.8530 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:40.8530 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:36:40.8530 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 32.8438ms 
2025-05-12 12:36:40.8530 INFO CORS policy execution successful. 
2025-05-12 12:36:40.8530 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:40.8530 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:36:40.8530 INFO Fetching all tour data for table. 
2025-05-12 12:36:40.8530 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:36:40.8841 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:40.8841 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 32.4577ms 
2025-05-12 12:36:40.8841 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:36:40.8841 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 36.3144ms 
2025-05-12 12:36:54.1195 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Schedule/create - - - 
2025-05-12 12:36:54.1195 INFO CORS policy execution successful. 
2025-05-12 12:36:54.1195 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Schedule/create - 204 - - 1.2399ms 
2025-05-12 12:36:54.1195 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Schedule/create - application/json 61 
2025-05-12 12:36:54.1195 INFO CORS policy execution successful. 
2025-05-12 12:36:54.1195 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.CreateSchedule (TourismWeb)' 
2025-05-12 12:36:54.1195 INFO Route matched with {action = "CreateSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Schedule.ScheduleDTO]] CreateSchedule(TourismWeb.DTOs.Schedule.ScheduleCreateDTO) on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:36:54.1195 INFO Schedule creation attempt for tour ID: TOUR001 
2025-05-12 12:36:54.1587 INFO Executed DbCommand (11ms) [Parameters=[p0='?' (Size = 4000), p1='?' (DbType = Date), p2='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
EXEC CreateSchedule @TourId = @p0, @StartDate = @p1, @Discount = @p2 
2025-05-12 12:36:54.1587 INFO Schedule created successfully: SCHE503 
2025-05-12 12:36:54.1587 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Schedule.ScheduleDTO'. 
2025-05-12 12:36:54.1648 INFO Executed action TourismWeb.Controllers.ScheduleController.CreateSchedule (TourismWeb) in 38.0415ms 
2025-05-12 12:36:54.1648 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.CreateSchedule (TourismWeb)' 
2025-05-12 12:36:54.1648 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Schedule/create - 200 - application/json;+charset=utf-8 42.7413ms 
2025-05-12 12:36:59.4607 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - - - 
2025-05-12 12:36:59.4624 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - - - 
2025-05-12 12:36:59.4624 INFO CORS policy execution successful. 
2025-05-12 12:36:59.4624 INFO CORS policy execution successful. 
2025-05-12 12:36:59.4624 INFO Executing endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:59.4624 INFO Executing endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:59.4624 INFO Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Category.CategoryDTO]]] GetAllCategories() on controller TourismWeb.Controllers.CategoryController (TourismWeb). 
2025-05-12 12:36:59.4624 INFO Route matched with {action = "GetALlLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.Models.Location]]] GetALlLocation() on controller TourismWeb.Controllers.LocationController (TourismWeb). 
2025-05-12 12:36:59.4624 INFO Fetching all categories. 
2025-05-12 12:36:59.4624 INFO Fetching all locations. 
2025-05-12 12:36:59.4786 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Locations] AS [l] 
2025-05-12 12:36:59.4786 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Categories] AS [c] 
2025-05-12 12:36:59.4786 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Category.CategoryDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:59.4786 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Location.LocationDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:59.4786 INFO Executed action TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb) in 20.4244ms 
2025-05-12 12:36:59.4786 INFO Executed action TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb) in 20.5765ms 
2025-05-12 12:36:59.4786 INFO Executed endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:59.4786 INFO Executed endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:59.4932 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - 200 - application/json;+charset=utf-8 30.5686ms 
2025-05-12 12:36:59.4932 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - 200 - application/json;+charset=utf-8 31.8366ms 
2025-05-12 12:36:59.4932 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - - - 
2025-05-12 12:36:59.4932 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - - - 
2025-05-12 12:36:59.4932 INFO CORS policy execution successful. 
2025-05-12 12:36:59.4932 INFO Executing endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:59.4932 INFO Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Category.CategoryDTO]]] GetAllCategories() on controller TourismWeb.Controllers.CategoryController (TourismWeb). 
2025-05-12 12:36:59.4932 INFO CORS policy execution successful. 
2025-05-12 12:36:59.4932 INFO Executing endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:59.4932 INFO Route matched with {action = "GetALlLocation", controller = "Location"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.Models.Location]]] GetALlLocation() on controller TourismWeb.Controllers.LocationController (TourismWeb). 
2025-05-12 12:36:59.4932 INFO Fetching all categories. 
2025-05-12 12:36:59.4932 INFO Fetching all locations. 
2025-05-12 12:36:59.4932 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Categories] AS [c] 
2025-05-12 12:36:59.4932 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Locations] AS [l] 
2025-05-12 12:36:59.5128 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Category.CategoryDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:59.5128 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Location.LocationDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:36:59.5128 INFO Executed action TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb) in 17.6892ms 
2025-05-12 12:36:59.5128 INFO Executed action TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb) in 16.9444ms 
2025-05-12 12:36:59.5128 INFO Executed endpoint 'TourismWeb.Controllers.CategoryController.GetAllCategories (TourismWeb)' 
2025-05-12 12:36:59.5128 INFO Executed endpoint 'TourismWeb.Controllers.LocationController.GetALlLocation (TourismWeb)' 
2025-05-12 12:36:59.5128 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Category/all-categories - 200 - application/json;+charset=utf-8 22.3928ms 
2025-05-12 12:36:59.5128 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Location/AllLocation - 200 - application/json;+charset=utf-8 21.4061ms 
2025-05-12 12:37:28.8273 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Tour/create - - - 
2025-05-12 12:37:28.8273 INFO CORS policy execution successful. 
2025-05-12 12:37:28.8273 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Tour/create - 204 - - 4.8939ms 
2025-05-12 12:37:28.8273 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Tour/create - application/json 283 
2025-05-12 12:37:28.8273 INFO CORS policy execution successful. 
2025-05-12 12:37:28.8273 INFO Executing endpoint 'TourismWeb.Controllers.TourController.CreateTour (TourismWeb)' 
2025-05-12 12:37:28.8273 INFO Route matched with {action = "CreateTour", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Tours.TourDTO]] CreateTour(TourismWeb.DTOs.Tours.TourCreateDTO) on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:37:28.8369 INFO Tour creation attempt. 
2025-05-12 12:37:28.8566 INFO Executed DbCommand (7ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000), p2='?' (Size = 4000), p3='?' (Size = 4000), p4='?' (Size = 4000), p5='?' (Size = 4000), p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), p7='?' (DbType = Int32), p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
Exec CreateTour @Name = @p0, @ShortDescription = @p1, @DetailDescription = @p2, @ScheduleDescription = @p3, @CategoryId = @p4, @Duration = @p5, @Price = @p6, @MaxCapacity = @p7, @LocationId = @p8 
2025-05-12 12:37:28.8566 INFO Tour created successfully: TOUR103 
2025-05-12 12:37:28.8566 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Tours.TourDTO'. 
2025-05-12 12:37:28.8566 INFO Executed action TourismWeb.Controllers.TourController.CreateTour (TourismWeb) in 29.3613ms 
2025-05-12 12:37:28.8566 INFO Executed endpoint 'TourismWeb.Controllers.TourController.CreateTour (TourismWeb)' 
2025-05-12 12:37:28.8566 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Tour/create - 200 - application/json;+charset=utf-8 33.8844ms 
2025-05-12 12:37:29.3022 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:37:29.3022 INFO CORS policy execution successful. 
2025-05-12 12:37:29.3022 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:37:29.3022 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:37:29.3057 INFO Fetching all tour data for table. 
2025-05-12 12:37:29.3057 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:37:29.3366 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:37:29.3366 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 41.1377ms 
2025-05-12 12:37:29.3366 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:37:29.3366 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:37:29.3366 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 46.2848ms 
2025-05-12 12:37:29.3366 INFO CORS policy execution successful. 
2025-05-12 12:37:29.3366 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:37:29.3366 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:37:29.3366 INFO Fetching all tour data for table. 
2025-05-12 12:37:29.3526 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:37:29.3836 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:37:29.3836 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 33.2775ms 
2025-05-12 12:37:29.3836 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:37:29.3836 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 37.4641ms 
2025-05-12 12:37:47.3755 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:37:47.3755 INFO CORS policy execution successful. 
2025-05-12 12:37:47.3755 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:47.3755 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:37:47.3755 INFO Fetching schedule data for table. 
2025-05-12 12:37:47.3870 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:37:47.3870 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:37:47.3870 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 14.3133ms 
2025-05-12 12:37:47.3870 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:47.3870 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:37:47.3870 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 18.6314ms 
2025-05-12 12:37:47.3870 INFO CORS policy execution successful. 
2025-05-12 12:37:47.3870 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:47.3870 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:37:47.3870 INFO Fetching schedule data for table. 
2025-05-12 12:37:47.3991 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:37:47.3991 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:37:47.3991 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 13.5193ms 
2025-05-12 12:37:47.3991 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:47.3991 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 17.0390ms 
2025-05-12 12:37:52.1808 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Schedule/SCHE001/discount?discount=30 - - - 
2025-05-12 12:37:52.1815 INFO CORS policy execution successful. 
2025-05-12 12:37:52.1815 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Schedule/SCHE001/discount?discount=30 - 204 - - 1.7401ms 
2025-05-12 12:37:52.1815 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Schedule/SCHE001/discount?discount=30 - application/x-www-form-urlencoded 0 
2025-05-12 12:37:52.1815 INFO CORS policy execution successful. 
2025-05-12 12:37:52.1815 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.UpdateDiscount (TourismWeb)' 
2025-05-12 12:37:52.1815 INFO Route matched with {action = "UpdateDiscount", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscount(System.String, Single) on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:37:52.1815 INFO Updating discount for schedule ID: SCHE001, discount: 30% 
2025-05-12 12:37:52.2134 INFO Executed DbCommand (12ms) [Parameters=[@ScheduleId='?' (Size = 7), @Discount='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
EXEC UpdateScheduleDiscount @ScheduleId, @Discount 
2025-05-12 12:37:52.2134 INFO Discount updated successfully for schedule ID: SCHE001 
2025-05-12 12:37:52.2134 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:37:52.2134 INFO Executed action TourismWeb.Controllers.ScheduleController.UpdateDiscount (TourismWeb) in 27.6574ms 
2025-05-12 12:37:52.2134 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.UpdateDiscount (TourismWeb)' 
2025-05-12 12:37:52.2134 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Schedule/SCHE001/discount?discount=30 - 200 - application/json;+charset=utf-8 32.6338ms 
2025-05-12 12:37:57.9940 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:37:57.9940 INFO CORS policy execution successful. 
2025-05-12 12:37:57.9940 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:57.9940 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:37:57.9940 INFO Fetching schedule data for table. 
2025-05-12 12:37:57.9940 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:37:57.9940 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:37:58.0093 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 12.6803ms 
2025-05-12 12:37:58.0093 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:58.0093 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:37:58.0093 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 16.5291ms 
2025-05-12 12:37:58.0093 INFO CORS policy execution successful. 
2025-05-12 12:37:58.0093 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:58.0093 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:37:58.0093 INFO Fetching schedule data for table. 
2025-05-12 12:37:58.0093 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:37:58.0249 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:37:58.0249 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 14.2426ms 
2025-05-12 12:37:58.0249 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:37:58.0249 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 18.5150ms 
2025-05-12 12:38:06.2685 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Schedule/SCHE001/discount?discount=50 - - - 
2025-05-12 12:38:06.2685 INFO CORS policy execution successful. 
2025-05-12 12:38:06.2685 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Schedule/SCHE001/discount?discount=50 - 204 - - 5.1039ms 
2025-05-12 12:38:06.2754 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Schedule/SCHE001/discount?discount=50 - application/x-www-form-urlencoded 0 
2025-05-12 12:38:06.2754 INFO CORS policy execution successful. 
2025-05-12 12:38:06.2754 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.UpdateDiscount (TourismWeb)' 
2025-05-12 12:38:06.2754 INFO Route matched with {action = "UpdateDiscount", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscount(System.String, Single) on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:38:06.2754 INFO Updating discount for schedule ID: SCHE001, discount: 50% 
2025-05-12 12:38:06.2754 INFO Executed DbCommand (8ms) [Parameters=[@ScheduleId='?' (Size = 7), @Discount='?' (DbType = Double)], CommandType='Text', CommandTimeout='30']
EXEC UpdateScheduleDiscount @ScheduleId, @Discount 
2025-05-12 12:38:06.2754 INFO Discount updated successfully for schedule ID: SCHE001 
2025-05-12 12:38:06.2898 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:38:06.2898 INFO Executed action TourismWeb.Controllers.ScheduleController.UpdateDiscount (TourismWeb) in 13.2596ms 
2025-05-12 12:38:06.2898 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.UpdateDiscount (TourismWeb)' 
2025-05-12 12:38:06.2898 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Schedule/SCHE001/discount?discount=50 - 200 - application/json;+charset=utf-8 15.8143ms 
2025-05-12 12:38:08.4671 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:38:08.4671 INFO CORS policy execution successful. 
2025-05-12 12:38:08.4671 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:38:08.4671 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:38:08.4671 INFO Fetching schedule data for table. 
2025-05-12 12:38:08.4671 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:38:08.4804 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:38:08.4804 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 12.5984ms 
2025-05-12 12:38:08.4804 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:38:08.4804 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - - - 
2025-05-12 12:38:08.4804 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 16.7571ms 
2025-05-12 12:38:08.4804 INFO CORS policy execution successful. 
2025-05-12 12:38:08.4804 INFO Executing endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:38:08.4804 INFO Route matched with {action = "GetDataForTable", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO]]] GetDataForTable() on controller TourismWeb.Controllers.ScheduleController (TourismWeb). 
2025-05-12 12:38:08.4804 INFO Fetching schedule data for table. 
2025-05-12 12:38:08.4804 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [t].[Name] AS [TourName], [s].[Start_date] AS [StartDate], [s].[Available], [s].[Adult_price] AS [AdultPrice], [s].[Children_price] AS [ChildrenPrice], [s].[Discount]
FROM [Schedules] AS [s]
INNER JOIN [Tours] AS [t] ON [s].[Tour_Id] = [t].[Id] 
2025-05-12 12:38:08.4939 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Schedule.ScheduleDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:38:08.4939 INFO Executed action TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb) in 9.4645ms 
2025-05-12 12:38:08.4939 INFO Executed endpoint 'TourismWeb.Controllers.ScheduleController.GetDataForTable (TourismWeb)' 
2025-05-12 12:38:08.4939 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Schedule/table-data - 200 - application/json;+charset=utf-8 12.7048ms 
2025-05-12 12:38:11.1196 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:38:11.1196 INFO CORS policy execution successful. 
2025-05-12 12:38:11.1196 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:11.1196 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:38:11.1196 INFO Fetching all payments. 
2025-05-12 12:38:11.1336 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:38:11.1543 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:38:11.1543 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 37.5807ms 
2025-05-12 12:38:11.1543 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:11.1543 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 43.7894ms 
2025-05-12 12:38:11.1543 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:38:11.1647 INFO CORS policy execution successful. 
2025-05-12 12:38:11.1647 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:11.1647 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:38:11.1647 INFO Fetching all payments. 
2025-05-12 12:38:11.1647 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:38:11.1647 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:38:11.1647 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 6.1285ms 
2025-05-12 12:38:11.1647 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:11.1647 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 9.9659ms 
2025-05-12 12:38:21.8498 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - - - 
2025-05-12 12:38:21.8498 INFO CORS policy execution successful. 
2025-05-12 12:38:21.8498 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - 204 - - 1.8732ms 
2025-05-12 12:38:21.8534 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Payment/create - application/json 39 
2025-05-12 12:38:21.8534 INFO CORS policy execution successful. 
2025-05-12 12:38:21.8534 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:38:21.8534 INFO Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Payment.PaymentDTO]] CreatePayment(TourismWeb.DTOs.Payment.PaymentCreateDTO) on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:38:21.8534 INFO Payment creation attempt. 
2025-05-12 12:38:21.8971 ERROR Failed executing DbCommand (23ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
EXEC CreatePayment @BookingId = @p0, @Amount = @p1 
2025-05-12 12:38:21.9271 ERROR An exception occurred while iterating over the results of a query for context type 'TourismWeb.Data.TourismDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_Booking_Id'. The duplicate key value is (BOOK003).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:369dd561-62df-4b8c-8038-322911ea3da6
Error Number:2601,State:1,Class:14 Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_Booking_Id'. The duplicate key value is (BOOK003).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:369dd561-62df-4b8c-8038-322911ea3da6
Error Number:2601,State:1,Class:14
2025-05-12 12:38:22.0625 ERROR Error creating payment. Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_Booking_Id'. The duplicate key value is (BOOK003).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   at TourismWeb.Repositories.Implementations.PaymentRepository.CreatePayment(PaymentCreateDTO data) in C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb\Repositories\Implementations\PaymentRepository.cs:line 20
   at TourismWeb.Services.Implementations.PaymentService.CreatePayment(PaymentCreateDTO createDTO) in C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb\Services\Implementations\PaymentService.cs:line 25
   at TourismWeb.Controllers.PaymentController.CreatePayment(PaymentCreateDTO createDTO) in C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb\Controllers\PaymentController.cs:line 29
ClientConnectionId:369dd561-62df-4b8c-8038-322911ea3da6
Error Number:2601,State:1,Class:14
2025-05-12 12:38:22.0785 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType8`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:38:22.0785 INFO Executed action TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb) in 225.6388ms 
2025-05-12 12:38:22.0785 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:38:22.0785 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Payment/create - 500 - application/json;+charset=utf-8 229.9973ms 
2025-05-12 12:38:41.1142 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:38:41.1142 INFO CORS policy execution successful. 
2025-05-12 12:38:41.1142 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:41.1178 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:38:41.1178 INFO Fetching all payments. 
2025-05-12 12:38:41.1178 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:38:41.1178 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:38:41.1178 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 12.873ms 
2025-05-12 12:38:41.1178 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:41.1178 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 17.5435ms 
2025-05-12 12:38:41.1178 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:38:41.1338 INFO CORS policy execution successful. 
2025-05-12 12:38:41.1338 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:41.1338 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:38:41.1338 INFO Fetching all payments. 
2025-05-12 12:38:41.1338 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:38:41.1338 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:38:41.1338 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 5.1373ms 
2025-05-12 12:38:41.1338 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:38:41.1338 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 7.5218ms 
2025-05-12 12:38:52.1656 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - - - 
2025-05-12 12:38:52.1656 INFO CORS policy execution successful. 
2025-05-12 12:38:52.1656 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - 204 - - 1.9774ms 
2025-05-12 12:38:52.1656 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Payment/create - application/json 39 
2025-05-12 12:38:52.1656 INFO CORS policy execution successful. 
2025-05-12 12:38:52.1656 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:38:52.1656 INFO Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Payment.PaymentDTO]] CreatePayment(TourismWeb.DTOs.Payment.PaymentCreateDTO) on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:38:52.1656 INFO Payment creation attempt. 
2025-05-12 12:38:52.1849 INFO Executed DbCommand (10ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
EXEC CreatePayment @BookingId = @p0, @Amount = @p1 
2025-05-12 12:38:52.1849 INFO Payment created successfully: PAY004 
2025-05-12 12:38:52.1849 INFO Executing OkObjectResult, writing value of type 'TourismWeb.Models.Payment'. 
2025-05-12 12:38:52.1849 INFO Executed action TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb) in 16.8961ms 
2025-05-12 12:38:52.1849 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:38:52.1849 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Payment/create - 200 - application/json;+charset=utf-8 19.6047ms 
2025-05-12 12:39:03.5087 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:39:03.5094 INFO CORS policy execution successful. 
2025-05-12 12:39:03.5094 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:39:03.5094 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:39:03.5094 INFO Fetching all payments. 
2025-05-12 12:39:03.5094 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:39:03.5094 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:03.5094 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 7.6896ms 
2025-05-12 12:39:03.5094 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:39:03.5094 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:39:03.5094 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 12.9069ms 
2025-05-12 12:39:03.5094 INFO CORS policy execution successful. 
2025-05-12 12:39:03.5094 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:39:03.5094 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:39:03.5250 INFO Fetching all payments. 
2025-05-12 12:39:03.5250 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:39:03.5250 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:03.5250 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 9.9109ms 
2025-05-12 12:39:03.5250 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:39:03.5250 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 14.3211ms 
2025-05-12 12:39:14.7099 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - - - 
2025-05-12 12:39:14.7099 INFO CORS policy execution successful. 
2025-05-12 12:39:14.7099 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - 204 - - 1.3675ms 
2025-05-12 12:39:14.7130 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Payment/create - application/json 38 
2025-05-12 12:39:14.7130 INFO CORS policy execution successful. 
2025-05-12 12:39:14.7130 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:39:14.7130 INFO Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Payment.PaymentDTO]] CreatePayment(TourismWeb.DTOs.Payment.PaymentCreateDTO) on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:39:14.7130 INFO Payment creation attempt. 
2025-05-12 12:39:14.7130 ERROR Failed executing DbCommand (6ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
EXEC CreatePayment @BookingId = @p0, @Amount = @p1 
2025-05-12 12:39:14.7130 ERROR An exception occurred while iterating over the results of a query for context type 'TourismWeb.Data.TourismDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_Booking_Id'. The duplicate key value is (BOOK004).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:369dd561-62df-4b8c-8038-322911ea3da6
Error Number:2601,State:1,Class:14 Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_Booking_Id'. The duplicate key value is (BOOK004).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:369dd561-62df-4b8c-8038-322911ea3da6
Error Number:2601,State:1,Class:14
2025-05-12 12:39:14.7990 ERROR Error creating payment. Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_Booking_Id'. The duplicate key value is (BOOK004).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   at TourismWeb.Repositories.Implementations.PaymentRepository.CreatePayment(PaymentCreateDTO data) in C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb\Repositories\Implementations\PaymentRepository.cs:line 20
   at TourismWeb.Services.Implementations.PaymentService.CreatePayment(PaymentCreateDTO createDTO) in C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb\Services\Implementations\PaymentService.cs:line 25
   at TourismWeb.Controllers.PaymentController.CreatePayment(PaymentCreateDTO createDTO) in C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb\Controllers\PaymentController.cs:line 29
ClientConnectionId:369dd561-62df-4b8c-8038-322911ea3da6
Error Number:2601,State:1,Class:14
2025-05-12 12:39:14.7990 INFO Executing ObjectResult, writing value of type '<>f__AnonymousType8`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. 
2025-05-12 12:39:14.7990 INFO Executed action TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb) in 86.4671ms 
2025-05-12 12:39:14.7990 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:39:14.7990 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Payment/create - 500 - application/json;+charset=utf-8 88.9683ms 
2025-05-12 12:39:45.8965 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Customer/all-customers - - - 
2025-05-12 12:39:45.8999 INFO CORS policy execution successful. 
2025-05-12 12:39:45.8999 INFO Executing endpoint 'TourismWeb.Controllers.CustomerController.GetAllCustomers (TourismWeb)' 
2025-05-12 12:39:45.8999 INFO Route matched with {action = "GetAllCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Customer.CustomerDTO]]] GetAllCustomers() on controller TourismWeb.Controllers.CustomerController (TourismWeb). 
2025-05-12 12:39:45.8999 INFO Fetching all customers. 
2025-05-12 12:39:45.9221 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[DateOfBirth], [c].[Email], [c].[Gender], [c].[Name], [c].[Phone]
FROM [Customers] AS [c] 
2025-05-12 12:39:45.9305 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Customer.CustomerDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:45.9305 INFO Executed action TourismWeb.Controllers.CustomerController.GetAllCustomers (TourismWeb) in 25.2223ms 
2025-05-12 12:39:45.9305 INFO Executed endpoint 'TourismWeb.Controllers.CustomerController.GetAllCustomers (TourismWeb)' 
2025-05-12 12:39:45.9305 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Customer/all-customers - 200 - application/json;+charset=utf-8 36.0721ms 
2025-05-12 12:39:45.9305 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Customer/all-customers - - - 
2025-05-12 12:39:45.9305 INFO CORS policy execution successful. 
2025-05-12 12:39:45.9305 INFO Executing endpoint 'TourismWeb.Controllers.CustomerController.GetAllCustomers (TourismWeb)' 
2025-05-12 12:39:45.9305 INFO Route matched with {action = "GetAllCustomers", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Customer.CustomerDTO]]] GetAllCustomers() on controller TourismWeb.Controllers.CustomerController (TourismWeb). 
2025-05-12 12:39:45.9305 INFO Fetching all customers. 
2025-05-12 12:39:45.9305 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[DateOfBirth], [c].[Email], [c].[Gender], [c].[Name], [c].[Phone]
FROM [Customers] AS [c] 
2025-05-12 12:39:45.9305 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Customer.CustomerDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:45.9305 INFO Executed action TourismWeb.Controllers.CustomerController.GetAllCustomers (TourismWeb) in 9.1683ms 
2025-05-12 12:39:45.9305 INFO Executed endpoint 'TourismWeb.Controllers.CustomerController.GetAllCustomers (TourismWeb)' 
2025-05-12 12:39:45.9305 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Customer/all-customers - 200 - application/json;+charset=utf-8 11.8650ms 
2025-05-12 12:39:47.8784 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Booking/all-bookings - - - 
2025-05-12 12:39:47.8784 INFO CORS policy execution successful. 
2025-05-12 12:39:47.8784 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingDataForTable (TourismWeb)' 
2025-05-12 12:39:47.8784 INFO Route matched with {action = "GetAllBookingDataForTable", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Booking.BookingDataTableDTO]]] GetAllBookingDataForTable() on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:39:47.8838 INFO Fetching all booking data for table. 
2025-05-12 12:39:47.9012 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[Booking_date], [b].[Customer_Id], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Schedule_Id], [b].[Status], [b].[Total_price]
FROM [Bookings] AS [b] 
2025-05-12 12:39:47.9012 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Booking.BookingDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:47.9012 INFO Executed action TourismWeb.Controllers.BookingController.GetAllBookingDataForTable (TourismWeb) in 26.0446ms 
2025-05-12 12:39:47.9012 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingDataForTable (TourismWeb)' 
2025-05-12 12:39:47.9012 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Booking/all-bookings - - - 
2025-05-12 12:39:47.9012 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Booking/all-bookings - 200 - application/json;+charset=utf-8 32.3280ms 
2025-05-12 12:39:47.9012 INFO CORS policy execution successful. 
2025-05-12 12:39:47.9012 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingDataForTable (TourismWeb)' 
2025-05-12 12:39:47.9012 INFO Route matched with {action = "GetAllBookingDataForTable", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Booking.BookingDataTableDTO]]] GetAllBookingDataForTable() on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:39:47.9012 INFO Fetching all booking data for table. 
2025-05-12 12:39:47.9154 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[Booking_date], [b].[Customer_Id], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Schedule_Id], [b].[Status], [b].[Total_price]
FROM [Bookings] AS [b] 
2025-05-12 12:39:47.9154 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Booking.BookingDataTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:47.9154 INFO Executed action TourismWeb.Controllers.BookingController.GetAllBookingDataForTable (TourismWeb) in 5.8206ms 
2025-05-12 12:39:47.9154 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.GetAllBookingDataForTable (TourismWeb)' 
2025-05-12 12:39:47.9154 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Booking/all-bookings - 200 - application/json;+charset=utf-8 8.5891ms 
2025-05-12 12:39:49.7731 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/update-status - - - 
2025-05-12 12:39:49.7744 INFO CORS policy execution successful. 
2025-05-12 12:39:49.7744 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Booking/update-status - 204 - - 1.9983ms 
2025-05-12 12:39:49.7744 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Booking/update-status - application/json 27 
2025-05-12 12:39:49.7744 INFO CORS policy execution successful. 
2025-05-12 12:39:49.7744 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.UpdateBookingStatus (TourismWeb)' 
2025-05-12 12:39:49.7744 INFO Route matched with {action = "UpdateBookingStatus", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBookingStatus(TourismWeb.DTOs.Booking.BookingUpdateDTO) on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:39:49.7744 INFO Updating status for booking ID: BOOK005 
2025-05-12 12:39:49.7744 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Booking_date], [b].[Customer_Id], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Schedule_Id], [b].[Status], [b].[Total_price]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0 
2025-05-12 12:39:49.7904 INFO Executed DbCommand (5ms) [Parameters=[@p7='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 450), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Bookings] SET [Booking_date] = @p0, [Customer_Id] = @p1, [Number_of_adult_bookings] = @p2, [Number_of_children_bookings] = @p3, [Schedule_Id] = @p4, [Status] = @p5, [Total_price] = @p6
OUTPUT 1
WHERE [Id] = @p7; 
2025-05-12 12:39:49.7904 INFO Booking status updated successfully for booking ID: BOOK005 
2025-05-12 12:39:49.7904 INFO Executing OkObjectResult, writing value of type 'System.String'. 
2025-05-12 12:39:49.7904 INFO Executed action TourismWeb.Controllers.BookingController.UpdateBookingStatus (TourismWeb) in 20.0279ms 
2025-05-12 12:39:49.7904 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.UpdateBookingStatus (TourismWeb)' 
2025-05-12 12:39:49.7904 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Booking/update-status - 200 - text/plain;+charset=utf-8 24.7520ms 
2025-05-12 12:39:52.2728 INFO Request starting HTTP/1.1 PUT http://localhost:5058/api/Booking/update-status - application/json 27 
2025-05-12 12:39:52.2739 INFO CORS policy execution successful. 
2025-05-12 12:39:52.2739 INFO Executing endpoint 'TourismWeb.Controllers.BookingController.UpdateBookingStatus (TourismWeb)' 
2025-05-12 12:39:52.2739 INFO Route matched with {action = "UpdateBookingStatus", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBookingStatus(TourismWeb.DTOs.Booking.BookingUpdateDTO) on controller TourismWeb.Controllers.BookingController (TourismWeb). 
2025-05-12 12:39:52.2739 INFO Updating status for booking ID: BOOK005 
2025-05-12 12:39:52.2911 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Booking_date], [b].[Customer_Id], [b].[Number_of_adult_bookings], [b].[Number_of_children_bookings], [b].[Schedule_Id], [b].[Status], [b].[Total_price]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0 
2025-05-12 12:39:52.3069 INFO Executed DbCommand (13ms) [Parameters=[@p7='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 450), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Bookings] SET [Booking_date] = @p0, [Customer_Id] = @p1, [Number_of_adult_bookings] = @p2, [Number_of_children_bookings] = @p3, [Schedule_Id] = @p4, [Status] = @p5, [Total_price] = @p6
OUTPUT 1
WHERE [Id] = @p7; 
2025-05-12 12:39:52.3069 INFO Booking status updated successfully for booking ID: BOOK005 
2025-05-12 12:39:52.3069 INFO Executing OkObjectResult, writing value of type 'System.String'. 
2025-05-12 12:39:52.3069 INFO Executed action TourismWeb.Controllers.BookingController.UpdateBookingStatus (TourismWeb) in 35.0088ms 
2025-05-12 12:39:52.3069 INFO Executed endpoint 'TourismWeb.Controllers.BookingController.UpdateBookingStatus (TourismWeb)' 
2025-05-12 12:39:52.3069 INFO Request finished HTTP/1.1 PUT http://localhost:5058/api/Booking/update-status - 200 - text/plain;+charset=utf-8 38.5176ms 
2025-05-12 12:39:53.5625 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:39:53.5625 INFO CORS policy execution successful. 
2025-05-12 12:39:53.5625 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:39:53.5625 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:39:53.5625 INFO Fetching all tour data for table. 
2025-05-12 12:39:53.5769 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:39:53.6023 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:53.6023 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 37.3352ms 
2025-05-12 12:39:53.6023 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:39:53.6023 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 40.8555ms 
2025-05-12 12:39:53.6023 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:39:53.6023 INFO CORS policy execution successful. 
2025-05-12 12:39:53.6023 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:39:53.6023 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:39:53.6023 INFO Fetching all tour data for table. 
2025-05-12 12:39:53.6023 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:39:53.6183 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:53.6183 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 23.3604ms 
2025-05-12 12:39:53.6183 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:39:53.6183 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 26.2036ms 
2025-05-12 12:39:54.3990 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR001 - - - 
2025-05-12 12:39:54.3994 INFO CORS policy execution successful. 
2025-05-12 12:39:54.3994 INFO Executing endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:54.3994 INFO Route matched with {action = "GetImagesDataByTourId", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Image.ImageDTO]]] GetImagesDataByTourId(System.String) on controller TourismWeb.Controllers.ImageController (TourismWeb). 
2025-05-12 12:39:54.3994 INFO Fetching image data for tour ID: TOUR001 
2025-05-12 12:39:54.4190 INFO Executed DbCommand (9ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Tour_Id], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[Tour_Id] = @__tourId_0 
2025-05-12 12:39:54.4190 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Image.ImageDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:54.4190 INFO Executed action TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb) in 20.7003ms 
2025-05-12 12:39:54.4190 INFO Executed endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:54.4190 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR001 - 200 - application/json;+charset=utf-8 27.2172ms 
2025-05-12 12:39:54.4190 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR001 - - - 
2025-05-12 12:39:54.4190 INFO CORS policy execution successful. 
2025-05-12 12:39:54.4190 INFO Executing endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:54.4190 INFO Route matched with {action = "GetImagesDataByTourId", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Image.ImageDTO]]] GetImagesDataByTourId(System.String) on controller TourismWeb.Controllers.ImageController (TourismWeb). 
2025-05-12 12:39:54.4190 INFO Fetching image data for tour ID: TOUR001 
2025-05-12 12:39:54.4305 INFO Executed DbCommand (1ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Tour_Id], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[Tour_Id] = @__tourId_0 
2025-05-12 12:39:54.4305 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Image.ImageDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:54.4305 INFO Executed action TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb) in 6.1279ms 
2025-05-12 12:39:54.4305 INFO Executed endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:54.4305 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR001 - 200 - application/json;+charset=utf-8 9.4295ms 
2025-05-12 12:39:59.0535 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR005 - - - 
2025-05-12 12:39:59.0535 INFO CORS policy execution successful. 
2025-05-12 12:39:59.0555 INFO Executing endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:59.0555 INFO Route matched with {action = "GetImagesDataByTourId", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Image.ImageDTO]]] GetImagesDataByTourId(System.String) on controller TourismWeb.Controllers.ImageController (TourismWeb). 
2025-05-12 12:39:59.0555 INFO Fetching image data for tour ID: TOUR005 
2025-05-12 12:39:59.0555 INFO Executed DbCommand (10ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Tour_Id], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[Tour_Id] = @__tourId_0 
2025-05-12 12:39:59.0713 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Image.ImageDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:59.0713 INFO Executed action TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb) in 16.5885ms 
2025-05-12 12:39:59.0713 INFO Executed endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:59.0713 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR005 - - - 
2025-05-12 12:39:59.0713 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR005 - 200 - application/json;+charset=utf-8 21.3413ms 
2025-05-12 12:39:59.0713 INFO CORS policy execution successful. 
2025-05-12 12:39:59.0713 INFO Executing endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:59.0713 INFO Route matched with {action = "GetImagesDataByTourId", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Image.ImageDTO]]] GetImagesDataByTourId(System.String) on controller TourismWeb.Controllers.ImageController (TourismWeb). 
2025-05-12 12:39:59.0713 INFO Fetching image data for tour ID: TOUR005 
2025-05-12 12:39:59.0713 INFO Executed DbCommand (1ms) [Parameters=[@__tourId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Tour_Id], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[Tour_Id] = @__tourId_0 
2025-05-12 12:39:59.0713 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Image.ImageDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:39:59.0713 INFO Executed action TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb) in 5.9179ms 
2025-05-12 12:39:59.0713 INFO Executed endpoint 'TourismWeb.Controllers.ImageController.GetImagesDataByTourId (TourismWeb)' 
2025-05-12 12:39:59.0713 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Image/get-image-data?tourId=TOUR005 - 200 - application/json;+charset=utf-8 9.0676ms 
2025-05-12 12:40:02.7799 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Image/create - multipart/form-data;+boundary=----WebKitFormBoundaryFAY2izVHErIFX4Af 260190 
2025-05-12 12:40:02.7799 INFO CORS policy execution successful. 
2025-05-12 12:40:02.7799 INFO Executing endpoint 'TourismWeb.Controllers.ImageController.CreateImage (TourismWeb)' 
2025-05-12 12:40:02.7799 INFO Route matched with {action = "CreateImage", controller = "Image"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Image.ImageDTO]] CreateImage(TourismWeb.DTOs.Image.ImageUploadDTO) on controller TourismWeb.Controllers.ImageController (TourismWeb). 
2025-05-12 12:40:02.8112 INFO Image creation attempt for tour ID: TOUR005 
2025-05-12 12:40:06.7214 INFO Executed DbCommand (13ms) [Parameters=[p0='?' (Size = 4000), p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
Exec CreateImage @TourId = @p0, @Url = @p1 
2025-05-12 12:40:06.7214 INFO Image created successfully for tour ID: TOUR005, image ID: IMG504 
2025-05-12 12:40:06.7214 INFO Executing OkObjectResult, writing value of type 'TourismWeb.DTOs.Image.ImageDTO'. 
2025-05-12 12:40:06.7214 INFO Executed action TourismWeb.Controllers.ImageController.CreateImage (TourismWeb) in 3935.3082ms 
2025-05-12 12:40:06.7214 INFO Executed endpoint 'TourismWeb.Controllers.ImageController.CreateImage (TourismWeb)' 
2025-05-12 12:40:06.7214 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Image/create - 200 - application/json;+charset=utf-8 3946.9679ms 
2025-05-12 12:43:34.4429 INFO Starting application... 
2025-05-12 12:43:35.1931 INFO Application is running... 
2025-05-12 12:43:35.2265 INFO User profile is available. Using 'C:\Users\giahu\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-05-12 12:43:35.4075 INFO Now listening on: http://localhost:5058 
2025-05-12 12:43:35.5064 INFO Application started. Press Ctrl+C to shut down. 
2025-05-12 12:43:35.5064 INFO Hosting environment: Development 
2025-05-12 12:43:35.5064 INFO Content root path: C:\Users\giahu\Desktop\tailieu\hk2-2425\net\CK\Web\api\TourismWeb 
2025-05-12 12:43:36.7123 INFO Request starting HTTP/1.1 GET http://localhost:5058/swagger - - - 
2025-05-12 12:43:36.9179 INFO Request finished HTTP/1.1 GET http://localhost:5058/swagger - 301 0 - 223.3344ms 
2025-05-12 12:43:36.9179 INFO Request starting HTTP/1.1 GET http://localhost:5058/swagger/index.html - - - 
2025-05-12 12:43:37.0365 INFO Request finished HTTP/1.1 GET http://localhost:5058/swagger/index.html - 200 - text/html;charset=utf-8 113.1878ms 
2025-05-12 12:43:37.3653 INFO Request starting HTTP/1.1 GET http://localhost:5058/_framework/aspnetcore-browser-refresh.js - - - 
2025-05-12 12:43:37.3653 INFO Request starting HTTP/1.1 GET http://localhost:5058/_vs/browserLink - - - 
2025-05-12 12:43:37.3688 INFO Request finished HTTP/1.1 GET http://localhost:5058/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript;+charset=utf-8 13.6828ms 
2025-05-12 12:43:37.4121 INFO Request finished HTTP/1.1 GET http://localhost:5058/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 46.6215ms 
2025-05-12 12:43:37.6378 INFO Request starting HTTP/1.1 GET http://localhost:5058/swagger/v1/swagger.json - - - 
2025-05-12 12:43:37.7028 INFO Request finished HTTP/1.1 GET http://localhost:5058/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 65.4040ms 
2025-05-12 12:43:51.2280 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:43:51.2459 INFO CORS policy execution successful. 
2025-05-12 12:43:51.3030 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:43:51.3241 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:43:51.5587 INFO Fetching all tour data for table. 
2025-05-12 12:43:53.2910 INFO Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:43:53.4787 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:43:53.5035 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - - - 
2025-05-12 12:43:53.5091 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 2171.9314ms 
2025-05-12 12:43:53.5091 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:43:53.5091 INFO CORS policy execution successful. 
2025-05-12 12:43:53.5091 INFO Executing endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:43:53.5091 INFO Route matched with {action = "GetAllTourDataForTable", controller = "Tour"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Tour.TourTableDTO]]] GetAllTourDataForTable() on controller TourismWeb.Controllers.TourController (TourismWeb). 
2025-05-12 12:43:53.5247 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 2296.7778ms 
2025-05-12 12:43:53.5247 INFO Fetching all tour data for table. 
2025-05-12 12:43:53.5606 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Category_Id], [t].[Create_at], [t].[Detail_description], [t].[Duration], [t].[Location_Id], [t].[Max_capacity], [t].[Name], [t].[Price], [t].[Schedule_description], [t].[Short_description], [t].[Update_at]
FROM [Tours] AS [t] 
2025-05-12 12:43:53.6340 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Tour.TourTableDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:43:53.6340 INFO Executed action TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb) in 117.5695ms 
2025-05-12 12:43:53.6340 INFO Executed endpoint 'TourismWeb.Controllers.TourController.GetAllTourDataForTable (TourismWeb)' 
2025-05-12 12:43:53.6497 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Tour/tourTableData - 200 - application/json;+charset=utf-8 144.4760ms 
2025-05-12 12:43:55.9464 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:43:55.9476 INFO CORS policy execution successful. 
2025-05-12 12:43:55.9476 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:43:55.9636 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:43:55.9636 INFO Fetching all payments. 
2025-05-12 12:43:56.0732 INFO Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:43:56.0868 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:43:56.1069 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 139.8933ms 
2025-05-12 12:43:56.1069 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:43:56.1069 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:43:56.1069 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 170.3718ms 
2025-05-12 12:43:56.1069 INFO CORS policy execution successful. 
2025-05-12 12:43:56.1188 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:43:56.1188 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:43:56.1354 INFO Fetching all payments. 
2025-05-12 12:43:56.1494 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:43:56.1656 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:43:56.1656 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 45.5459ms 
2025-05-12 12:43:56.1656 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:43:56.1818 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 77.2327ms 
2025-05-12 12:44:06.1219 INFO Request starting HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - - - 
2025-05-12 12:44:06.1219 INFO CORS policy execution successful. 
2025-05-12 12:44:06.1219 INFO Request finished HTTP/1.1 OPTIONS http://localhost:5058/api/Payment/create - 204 - - 7.0221ms 
2025-05-12 12:44:06.1219 INFO Request starting HTTP/1.1 POST http://localhost:5058/api/Payment/create - application/json 39 
2025-05-12 12:44:06.1219 INFO CORS policy execution successful. 
2025-05-12 12:44:06.1343 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:44:06.1343 INFO Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TourismWeb.DTOs.Payment.PaymentDTO]] CreatePayment(TourismWeb.DTOs.Payment.PaymentCreateDTO) on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:44:06.1814 INFO Payment creation attempt. 
2025-05-12 12:44:06.3160 INFO Executed DbCommand (44ms) [Parameters=[@__data_Booking_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p]
WHERE [p].[Booking_Id] = @__data_Booking_Id_0 
2025-05-12 12:44:06.4159 INFO Executed DbCommand (20ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Payments] SET [Amount] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-05-12 12:44:06.4317 INFO Payment created successfully: PAY003 
2025-05-12 12:44:06.4317 INFO Executing OkObjectResult, writing value of type 'TourismWeb.Models.Payment'. 
2025-05-12 12:44:06.4594 INFO Executed action TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb) in 312.7342ms 
2025-05-12 12:44:06.4594 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.CreatePayment (TourismWeb)' 
2025-05-12 12:44:06.4622 INFO Request finished HTTP/1.1 POST http://localhost:5058/api/Payment/create - 200 - application/json;+charset=utf-8 333.1722ms 
2025-05-12 12:44:10.4259 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:44:10.4372 INFO CORS policy execution successful. 
2025-05-12 12:44:10.4471 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:44:10.4471 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:44:10.4623 INFO Fetching all payments. 
2025-05-12 12:44:10.4782 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:44:10.5088 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:44:10.5088 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 53.7867ms 
2025-05-12 12:44:10.5088 INFO Request starting HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - - - 
2025-05-12 12:44:10.5088 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:44:10.5261 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 105.2097ms 
2025-05-12 12:44:10.5261 INFO CORS policy execution successful. 
2025-05-12 12:44:10.5408 INFO Executing endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:44:10.5408 INFO Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TourismWeb.DTOs.Payment.PaymentDTO]]] GetAllPayments() on controller TourismWeb.Controllers.PaymentController (TourismWeb). 
2025-05-12 12:44:10.5554 INFO Fetching all payments. 
2025-05-12 12:44:10.5715 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[Booking_Id], [p].[Payment_date], [p].[Status]
FROM [Payments] AS [p] 
2025-05-12 12:44:10.6029 INFO Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TourismWeb.DTOs.Payment.PaymentDTO, TourismWeb, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-05-12 12:44:10.6029 INFO Executed action TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb) in 47.9979ms 
2025-05-12 12:44:10.6029 INFO Executed endpoint 'TourismWeb.Controllers.PaymentController.GetAllPayments (TourismWeb)' 
2025-05-12 12:44:10.6193 INFO Request finished HTTP/1.1 GET http://localhost:5058/api/Payment/all-payment - 200 - application/json;+charset=utf-8 104.0094ms 
